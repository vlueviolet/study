!function(t,i,e){"use strict";t.OVERWATCH=t.OVERWATCH||{},t.OVERWATCH.Common=t.OVERWATCH.Common||{},t.OVERWATCH.Admin=t.OVERWATCH.Admin||{},t.OVERWATCH.Bracket=t.OVERWATCH.Bracket||{};var s=t.OVERWATCH.Common.util;t.OVERWATCH.Bracket.BracketDraw=function(t){this.opts=s.def({wrap:".bracket_wrap",bracketArea:".bracket_area",round:".round",tit:".tit",teamBox:".team_bx",team:".team",activeClass:"on",overClass:"over",state:".state",line:".line"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Bracket.BracketDraw.prototype={init:function(){this.setElements(),this.setRoundWdith(),this.setRoundHeight(),this.setRoundState(),this.bindEvents(),this.finalWinnerFunc()},setElements:function(){this.bracketArea=this.wrap.find(this.opts.bracketArea),this.round=this.wrap.find(this.opts.round),this.tit=this.wrap.find(this.opts.tit),this.teamBox=this.wrap.find(this.opts.teamBox),this.team=this.wrap.find(this.opts.team)},setRoundHeight:function(){this.arr=[],this.round.each(i.proxy(function(t){this.arr.push(i(this.round[t]).outerHeight())},this)),this.roundMaxHeight=parseFloat(Math.max.apply(Math,this.arr)),this.round.css("height",this.roundMaxHeight)},setRoundWdith:function(){this.roundWidth=parseFloat(this.bracketArea.outerWidth()/this.round.length),this.round.css("width",this.roundWidth)},setRoundState:function(){var t=this.round.length-1;this.round.each(i.proxy(function(i){if(this.round.eq(i).hasClass(this.opts.activeClass)){this.round.eq(i).find(this.tit).append('<span class="state"><span class="line"></span></span>'),this.state=this.round.eq(i).find(this.opts.state),this.line=this.state.children();var e=.5*this.round.outerWidth()+(t-i)*this.round.outerWidth();this.line.css("width",e)}},this))},bindEvents:function(){this.teamBox.on("mouseover",i.proxy(this.mouseOverFunc,this)),this.teamBox.on("mouseleave",i.proxy(this.mouseLeaveFunc,this)),this.teamBox.on("click",i.proxy(this.clickFunc,this))},finalWinnerFunc:function(){this.lastRoundChild=this.round.eq(this.round.length-1).find(this.opts.team),this.lastRoundChild.each(i.proxy(function(t){this.lastRoundChild.eq(t).hasClass("win")&&(this.finalWinner=this.lastRoundChild.eq(t),this.finalTeamNo=this.finalWinner.data("teamNo"))},this)),this.team.each(i.proxy(function(t){null!==this.team.eq(t).data("teamNo")&&void 0!==this.team.eq(t).data("teamNo")&&this.team.eq(t).data("teamNo")===this.finalTeamNo&&this.team.eq(t).addClass("finalwinner")},this))},mouseOverFunc:function(t){for(var e=i(t.currentTarget),s=0,n=e.children().length;s<n;s++)(e.children(this.team).eq(s).hasClass("win")||e.children(this.team).eq(s).hasClass("lose"))&&(e.addClass(this.opts.overClass),e.css("cursor","pointer"))},mouseLeaveFunc:function(t){i(t.currentTarget).removeClass(this.opts.overClass)},clickFunc:function(t){}},i(function(){t.BracketDraw=new t.OVERWATCH.Bracket.BracketDraw})}(window,window.jQuery,window.document),function(t,i,e){"use strict";t.OVERWATCH=t.OVERWATCH||{};var s=Object.prototype.hasOwnProperty;t.OVERWATCH.Common={util:{isSupportTransform:"WebkitTransform"in e.body.style||"MozTransform"in e.body.style||"msTransform"in e.body.style||"OTransform"in e.body.style||"transform"in e.body.style,isDevice:"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch,def:function(t,e){for(var n in e)s.call(e,n)&&("object"===i.type(t[n])?t[n]="array"===i.type(t[n])?e[n].slice(0):this.def(t[n],e[n]):t[n]=e[n]);return t},winSize:function(){var t="Netscape"===navigator.appName,i=-1!==navigator.appVersion.indexOf("Mac"),e=-1!==navigator.userAgent.indexOf("Safari"),s=-1!==navigator.userAgent.indexOf("Chrome");return t&&!i&&e&&!s}()?function(){return{w:i(t).width(),h:i(t).height()}}:function(){return{w:t.innerWidth||e.documentElement.clientWidth||e.body.clientWidth,h:t.innerHeight||e.documentElement.clientHeight||e.body.clientHeight}},requestAFrame:t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(i){return t.setTimeout(i,1e3/60)},cancelAFrame:t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||function(i){t.clearTimeout(i)},getRestrictBytes:function(t,i){var e=t.length,s=0,n=0,o="";i=i||100;for(var a=0;a<e;a++)o=t.charAt(a),escape(o).length>4?s+=2:s++,s<=i&&(n=a+1);return{bytes:s,rectLeng:n}},imgLoader:function(t,e){i(t).each(function(){var t=e||function(){};this.complete||i(this).height()>0?t.apply(this):i(this).on("load",function(){t.apply(this),i(this).off("load")})})}}},t.OVERWATCH.page={init:function(){this.initOpts(),this.setOpts(),this.setElements(),this.bindEvents()},initOpts:function(){t.OVERWATCH.Common.Pageobj=[]},setOpts:function(){this.scrollLocked=!1,this.prevStyles={},this.lockStyles={"overflow-y":"auto",position:"fixed",width:"100%"}},setElements:function(){this.html=i("html")},bindEvents:function(){i("body").on("page.reposition",i.proxy(this.pageReposition,this))},pageReposition:function(){for(var i=0,e=t.OVERWATCH.Common.Pageobj.length;i<e;i++)t.OVERWATCH.Common.Pageobj[i].reInit()},scrollLock:function(e){var s=this;function n(){var t=s.html.attr("style"),e=[],n={};t&&(e=t.split(";"),i.each(e,function(t){if(t=e[t]){var s=t.split(":");s.length<2||(n[i.trim(s[0])]=i.trim(s[1]))}}),i.extend(s.prevStyles,n))}if(e){if(this.scrollLocked)return;this.appliedLock={},n(),s.prevScroll={scrollLeft:i(t).scrollLeft(),scrollTop:i(t).scrollTop()},i.extend(this.appliedLock,this.lockStyles,{left:-this.prevScroll.scrollLeft,top:-this.prevScroll.scrollTop}),this.html.css(this.appliedLock),this.scrollLocked=!0}else{if(!this.scrollLocked)return;n();for(var o in this.appliedLock)delete this.prevStyles[o];this.html.attr("style",i("<x>").css(this.prevStyles).attr("style")||""),i(t).scrollLeft(this.prevScroll.scrollLeft).scrollTop(this.prevScroll.scrollTop),this.scrollLocked=!1}}}}(window,window.jQuery,window.document),function(t,i,e){"use strict";t.OVERWATCH=t.OVERWATCH||{},t.OVERWATCH.Common=t.OVERWATCH.Common||{};var s=null,n=t.OVERWATCH.Common.util,o=t.OVERWATCH.page;t.OVERWATCH.Common.commonLayer=t.OVERWATCH.Common.commonLayer||{},t.OVERWATCH.Common.commonLayer=function(t){this.opts=i.extend({},{btnElements:".js-layer-btn button",layerWrapElement:".layer_wrap",layerElement:".layer_content",closeElements:".btn_close",speed:150,viewBefore:null,viewAfter:null,closeBefore:null,closeAfter:null},t||{}),(this.layerWrap=i(this.opts.layerWrapElement)).length&&this.init()},t.OVERWATCH.Common.commonLayer.prototype={init:function(){this.setElements(),this.initLayout(),this.bindEvents()},setElements:function(){this.layerObj=this.layerWrap.find(this.opts.layerElement),this.closeBtn=this.layerWrap.find(this.opts.closeElements),this.btnObj=i(this.opts.btnElements)},initLayout:function(){this.arr=[],this.zindex=parseInt(this.layerWrap.css("zIndex"))},bindEvents:function(){this.closeBtn.on("click",i.proxy(this.layerClickOutside,this))},layerView:function(t){this.layerWrap=i(t),this.outCallback("viewBefore"),this.arr.push(this.layerWrap);for(var e=0,s=this.arr.length;e<s;e++)this.arr[e].css("zIndex",this.zindex+e);this.showAfterBugFunc(),this.arr[this.arr.length-1].stop().fadeIn(this.opts.speed)},showAfterBugFunc:function(){t.clearTimeout(this.showAfterTimeout),this.showAfterTimeout=t.setTimeout(i.proxy(this.layerViewAfter,this),30)},layerViewAfter:function(){this.outSideEvents(!0),o.scrollLock(!0),this.outCallback("viewAfter")},layerClickOutside:function(){0!==this.arr.length&&(this.outCallback("closeBefore"),t.clearTimeout(this.closeBeforeTimeout),this.closeBeforeTimeout=t.setTimeout(i.proxy(this.hideBeforeBugFunc,this),30),this.outSideEvents(!1))},hideBeforeBugFunc:function(){this.arr[this.arr.length-1].stop().fadeOut(this.opts.speed),this.hideAfterBugFunc()},hideAfterBugFunc:function(){t.clearTimeout(this.closeAfterTimeout),this.closeAfterTimeout=t.setTimeout(i.proxy(this.layerCloseAfter,this),30)},layerCloseAfter:function(t){this.arr.pop(),this.layerClose(),this.arr.length<=0&&o.scrollLock(!1),this.outCallback("closeAfter")},layerClose:function(){0!==this.arr.length&&(this.arr[this.arr.length-1].triggerHandler("clickoutside"),this.outSideEvents(!0))},outSideEvents:function(t){if(0!==this.arr.length){for(var e=0,s=this.arr.length;e<s;e++)this.arr[e].find(this.layerObj).off("clickoutside touchendoutside");t?this.arr[this.arr.length-1].find(this.layerObj).on("clickoutside touchendoutside",i.proxy(this.layerClickOutside,this)):this.arr[this.arr.length-1].children().off("clickoutside touchendoutside")}},escapeFunc:function(t){27===(t.which||t.keyCode)&&this.layerClose()},outCallback:function(t){var i=this.opts[t];null!==i&&i()}},t.OVERWATCH.Common.GnbSlick=t.OVERWATCH.Common.GnbSlick||{},t.OVERWATCH.Common.GnbSlick=function(t){this.opts=i.extend({},{slickOpts:{dots:!1,infinite:!1,speed:0,fade:!1,cssEase:"linear",autoplay:!1,slidesToShow:4,slidesToScroll:1,arrows:!1,responsive:[{breakpoint:1441,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0}}]},wrap:".header_top",slickWrap:".nav_area",slickWrapChild:".nav_cont"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Common.GnbSlick.prototype={init:function(){this.setElements(),this.bindEvents(),this.buildSlick(),this.afterSetElements(),this.afterBindeEvents()},setElements:function(){this.slickWrap=this.wrap.find(this.opts.slickWrap),this.slickWrapChild=this.wrap.find(this.opts.slickWrapChild)},afterSetElements:function(){this.btnPrev=i(".slick-prev"),this.btnNext=i(".slick-next")},bindEvents:function(){i(t).on("resize",i.proxy(this.resizeFunc,this))},afterBindeEvents:function(){},setSlideViewNum:function(){this.opts.slickOpts.slidesToShow=parseInt(this.slickWrap.outerWidth(!0)/this.slickWrapChild.outerWidth(!0))},buildSlick:function(){this.slickWrap.slick(this.opts.slickOpts)},resizeFunc:function(){},reInit:function(){}},t.OVERWATCH.Common.MainGnbSticky=t.OVERWATCH.Common.MainGnbSticky||{},t.OVERWATCH.Common.MainGnbSticky=function(t){this.opts=i.extend({},{header:".header",headerTop:".header_top",fixedClass:"fixed"},t||{}),(this.header=i(this.opts.header)).length&&this.init()},t.OVERWATCH.Common.MainGnbSticky.prototype={init:function(){this.setElements(),this.initLayout(),this.createOpts(),this.scrollFunc(),this.setWrapHeight(),this.bindEvents()},setElements:function(){this.headerTop=this.header.find(this.opts.headerTop)},initLayout:function(){this.docHeight=i(document).height()},bindEvents:function(){i(t).on("scroll",i.proxy(this.scrollFunc,this)),i(t).on("resize",i.proxy(this.resizeFunc,this))},createOpts:function(){this.headerTopOffset=this.headerTop.offset().top,this.headerOuterHeight=this.headerTop.outerHeight()},setWrapHeight:function(){this.header.css("height",this.headerOuterHeight)},scrollFunc:function(){var e=i(t).scrollTop();this.docHeight!==i(document).height()&&(this.headerTopOffset=this.headerTop.offset().top,this.docHeight=i(document).height()),e>this.headerTopOffset?this.headerTop.addClass(this.opts.fixedClass):this.headerTop.removeClass(this.opts.fixedClass)},resizeFunc:function(){this.headerOuterHeight=this.headerTop.height(),this.setWrapHeight()}},t.OVERWATCH.Common.SubMainSticky=t.OVERWATCH.Common.SubMainSticky||{},t.OVERWATCH.Common.SubMainSticky=function(t){this.opts=i.extend({},{header:"#header",topContent:".top_content",topContentTop:".top_inner",subNav:"#sub_nav",fixedClass:"fixed"},t||{}),(this.subNav=i(this.opts.subNav)).length&&(this.header=i(this.opts.header)).length&&this.init()},t.OVERWATCH.Common.SubMainSticky.prototype={init:function(){this.setElements(),this.createOpts(),this.scrollFunc(),this.setWrapHeight(),this.bindEvents()},setElements:function(){this.topContent=i(this.opts.topContent),this.topContentTop=this.topContent.find(this.opts.topContentTop),this.subNav=this.topContent.find(this.opts.subNav)},bindEvents:function(){i(t).on("scroll",i.proxy(this.scrollFunc,this)),i(t).on("resize",i.proxy(this.resizeFunc,this))},createOpts:function(){this.subNavOffset=this.subNav.offset().top,this.topContentOuterHeight=this.topContent.outerHeight()},setWrapHeight:function(){this.topContent.css("height",this.topContentOuterHeight)},scrollFunc:function(){i(t).scrollTop()>=this.subNavOffset?this.topContentTop.addClass(this.opts.fixedClass):this.topContentTop.removeClass(this.opts.fixedClass)},resizeFunc:function(){this.topContentOuterHeight=this.topContent.height(),this.setWrapHeight()}},t.OVERWATCH.Common.TopBtn=function(t){this.opts=i.extend({},{btnTop:".btn_top",minObj:"#content",speed:100},t||{}),(this.btnTop=i(this.opts.btnTop)).length&&this.init()},t.OVERWATCH.Common.TopBtn.prototype={init:function(){this.setElements(),this.bindEvents()},setElements:function(){this.minObj=i(this.opts.minObj)},bindEvents:function(){i(t).on("scroll",i.proxy(this.scrollFunc,this)),this.btnTop.on("click",i.proxy(this.clickFunc,this))},scrollFunc:function(){var e=i(t).scrollTop();i(t).height();this.minOffsetTop=this.minObj.offset().top,e>this.minOffsetTop?this.btnTop.is(":visible")||this.btnTop.stop().fadeIn(this.opts.speed):this.btnTop.is(":visible")&&this.btnTop.stop().fadeOut(this.opts.speed)},clickFunc:function(t){t.preventDefault(),i("html, body").is(":animated")||i("html, body").stop().animate({scrollTop:0},300)}},t.OVERWATCH.Common.CommonBanner=t.OVERWATCH.Common.CommonBanner||{},t.OVERWATCH.Common.CommonBanner=function(t){this.opts=i.extend({},{wrap:".common_banner",btnObj:".close"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Common.CommonBanner.prototype={init:function(){this.setElements(),this.bindEvents()},setElements:function(){this.btnObj=this.wrap.find(this.opts.btnObj)},bindEvents:function(){this.btnObj.on("click",i.proxy(this.clickFunc,this))},clickFunc:function(t){t.preventDefault(),this.wrap.stop(!0,!0).animate({height:0},300,i.proxy(function(){this.wrap.hide()},this))}},t.OVERWATCH.Common.SelectBox=t.OVERWATCH.Common.SelectBox||{},t.OVERWATCH.Common.SelectBox=function(t){this.opts=i.extend({},{selectWrap:".sel_bx",selectBtn:".sel_tit",selectItem:".sel_item",activeClass:"on"},t||{}),(this.selectWrap=i(this.opts.selectWrap)).length&&this.init()},t.OVERWATCH.Common.SelectBox.prototype={init:function(){this.setElements(),this.bindEvents()},setElements:function(){this.selectWrap=i(this.opts.selectWrap),this.selectItem=this.selectWrap.find(this.opts.selectItem),this.selectBtn=this.selectWrap.find(this.opts.selectBtn),this.selectBtnChild=this.selectBtn.children()},bindEvents:function(){this.selectWrap.on("click",".sel_tit",i.proxy(this.clickOpenFunc,this)),this.selectItem.on("click","a",i.proxy(this.clickListFunc,this))},clickOpenFunc:function(t){t.preventDefault();var e=i(t.delegateTarget);i(t.currentTarget);e.hasClass(this.opts.activeClass)?(e.removeClass(this.opts.activeClass),e.off("clickoutside touchendoutside")):(e.addClass(this.opts.activeClass),e.on("clickoutside touchendoutside",i.proxy(function(){this.outSideEvents(e)},this)))},clickListFunc:function(t){t.preventDefault();i(t.delegateTarget);var e=i(t.currentTarget),s=e.children(),n=e.closest(this.selectWrap);n.find(this.selectBtn).children().text(s.text()),n.removeClass(this.opts.activeClass)},outSideEvents:function(t){t.removeClass(this.opts.activeClass),t.off("clickoutside touchendoutside")},unBindeEvents:function(){this.selectWrap.off("click",".sel_tit",i.proxy(this.clickOpenFunc,this)),this.selectItem.off("click","a",i.proxy(this.clickListFunc,this))},reInit:function(){this.unBindeEvents(),this.setElements(),this.bindEvents()}},t.OVERWATCH.Common.slickSlide=t.OVERWATCH.Common.slickSlide||{},t.OVERWATCH.Common.slickSlide=function(t){this.opts={slickOpts:{dots:!0,infinite:!0,speed:400,cssEase:"linear",autoplay:!1,autoplaySpeed:3e3},slickWrap:".main_bx"},this.wrap=i(t),this.init()},t.OVERWATCH.Common.slickSlide.prototype={init:function(){this.setElements(),this.bindEvents(),this.buildSlick(),this.afterBindeEvents()},setElements:function(){this.slickWrap=this.wrap.find(this.opts.slickWrap)},bindEvents:function(){},buildSlick:function(){this.slickWrap.slick(this.opts.slickOpts)},afterBindeEvents:function(){}},t.OVERWATCH.Common.slickSlideCall={init:function(){this.setElements(),this.buildSlickCall()},setElements:function(){this.slideWrap=i(".media_area")},buildSlickCall:function(){for(var i=0,e=this.slideWrap.length;i<e;i++)new t.OVERWATCH.Common.slickSlide(this.slideWrap.eq(i))}},t.OVERWATCH.Common.FooterFamily=t.OVERWATCH.Common.FooterFamily||{},t.OVERWATCH.Common.FooterFamily=function(t){this.opts=i.extend({},{wrap:"#footer",familyCont:".family",clickObj:".menu_txt",familyList:".family_lst",activeClass:"on"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Common.FooterFamily.prototype={init:function(){this.setElements(),this.initLayout(),this.bindEvents()},initLayout:function(){this.familyCont.removeClass(this.opts.activeClass)},setElements:function(){this.familyCont=this.wrap.find(this.opts.familyCont),this.clickObj=this.wrap.find(this.opts.clickObj),this.familyList=this.wrap.find(this.opts.familyList)},bindEvents:function(){this.familyCont.on("click",this.opts.clickObj,i.proxy(this.clickFunc,this))},clickFunc:function(t){t.preventDefault();var e=i(t.delegateTarget);i(t.currentTarget);e.hasClass(this.opts.activeClass)?(e.removeClass(this.opts.activeClass),e.off("clickoutside touchendoutside")):(e.addClass(this.opts.activeClass),e.on("clickoutside touchendoutside",i.proxy(function(){this.outSideEvents(e)},this)))},outSideEvents:function(t){t.removeClass(this.opts.activeClass),t.off("clickoutside touchendoutside")}},t.OVERWATCH.Common.ScoreLayer=function(t){this.opts=n.def({wrap:"#layer_score",title:".layer_tit",date:".match_date",teamBox:".team_bx",teamBox1:".team_bx1",teamBox2:".team_bx2",team:".name",teamLogo:".team_logo",detailBox:".match_detail",targetField:".score_list",clickObj:".bracket_area .team_bx,.standing .detail_item",btnHighlight:".btn_highlight",btnScheduleVideo:".schedule_area .btn_vod",layer:"#layer_media",mainVideo:".main_video",mediaTitle:".layer_tit",mediaDate:".match_date",mediaTeam1:".team1",mediaTeam2:".team2",mediaScore1:".score1",mediaScore2:".score2"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Common.ScoreLayer.prototype={init:function(){this.onLoadTwitchApi(),this.onLoadYoutubeApi(),this.setElements(),this.initLayout(),this.bindEvents()},initLayout:function(){this.resetData(),this.type=!0},onLoadTwitchApi:function(){!function(){var t=document.createElement("script");t.src="https://player.twitch.tv/js/embed/v1.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}()},onLoadYoutubeApi:function(){!function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}()},setElements:function(){this.title=this.wrap.find(this.opts.title),this.date=this.wrap.find(this.opts.date),this.teamBox=this.wrap.find(this.opts.teamBox),this.teamBox1=this.wrap.find(this.opts.teamBox1),this.team1=this.teamBox1.find(this.opts.team),this.logo1=this.teamBox1.find(this.opts.teamLogo),this.teamBox2=this.wrap.find(this.opts.teamBox2),this.team2=this.teamBox2.find(this.opts.team),this.logo2=this.teamBox2.find(this.opts.teamLogo),this.scoreBox=this.wrap.find(this.opts.scoreBox),this.score1=this.teamBox1.find(".score1"),this.score2=this.teamBox2.find(".score2"),this.detailBox=this.wrap.find(this.opts.detailBox),this.targetField=this.detailBox.find(this.opts.targetField),this.clickObj=i(this.opts.clickObj),this.btnHighlight=this.wrap.find(this.opts.btnHighlight),this.btnScheduleVideo=i(this.opts.btnScheduleVideo),this.layer=i(this.opts.layer),this.mainVideo=this.layer.find(this.opts.mainVideo),this.mediaTitle=this.layer.find(this.opts.mainTitle),this.mediaDate=this.layer.find(this.opts.mediaDate),this.mediaTeam1=this.layer.find(this.opts.team1),this.mediaTeam2=this.layer.find(this.opts.team2),this.mediaScore1=this.layer.find(this.opts.score1),this.mediaScore2=this.layer.find(this.opts.score2),this.mediaDate=this.layer.find(this.opts.date)},bindEvents:function(){i("body").on("click",this.opts.clickObj,i.proxy(this.clickFunc,this)),this.btnHighlight.on("click",i.proxy(this.clickHighlight,this)),this.btnScheduleVideo.on("click",i.proxy(this.clickMedia,this))},clickMedia:function(t){t.preventDefault();i(t.currentTarget).hasClass(".disabled")||this.clickHighlight(t)},clickHighlight:function(t){t.preventDefault();var e=this,s=i(t.currentTarget);e.videoNo=s.data("videoNo").toString(),e.matchNo=s.data("videoNo").toString(),console.log(e.videoNo),e.layer.css({display:"none",opacity:1,zIndex:110}),i.ajax({url:"/resources/json/score_contenders.json",success:function(t){e.data=t,e.setLayer(),console.log(t),window.commonLayer.opts.viewBefore=null,window.commonLayer.layerView(e.layer)},error:function(t){console.error(t),window.commonLayer.opts.viewBefore=null}}),window.commonLayer.opts.closeAfter=i.proxy(function(){this.mainVideo.children().remove(),this.type=!0,window.commonLayer.opts.closeAfter=null},this)},setLayer:function(){var t=s;i.each(t,i.proxy(function(t,e){this.videoNo===e.no.toString()&&(this.layer.find(i(this.opts.mediaTitle)).text(e.video_title),this.layer.find(i(this.opts.mediaTeam1)).text(e.teamA_name),this.layer.find(i(this.opts.mediaTeam2)).text(e.teamB_name),this.layer.find(i(this.opts.mediaScore1)).text(e.teamA_score),this.layer.find(i(this.opts.mediaScore2)).text(e.teamB_score),this.layer.find(i(this.opts.mediaDate)).text(e.date),"twitch"===e.video_type?this.setTwitch(e.video_url):"youtube"===e.video_type&&this.setYoutube(e.video_url))},this))},setYoutubeCode:function(t){this.initCode=t.split("https://www.youtube.com/watch?v=")[1].split("&t="),this.youtubeCode=this.initCode[0],void 0!==this.initCode[1]?this.startSeconds=parseInt(this.initCode[1].split("s")[0]):this.startSeconds=0},setYoutube:function(t){this.setYoutubeCode(t),this.mainVideo.append('<div id="player"></div>'),this.onYouTubeIframeAPIReady()},onYouTubeIframeAPIReady:function(){this.youtubePlayer=new t.YT.Player("player",{playerVars:{autoplay:0,controls:1,showinfo:0,rel:0},events:{onReady:i.proxy(this.onPlayerReady,this),onStateChange:i.proxy(this.onPlayerStateChange,this)},fs:1})},onPlayerReady:function(t){this.youtubePlayer.loadVideoById({videoId:this.youtubeCode,startSeconds:this.startSeconds}),this.youtubePlayer.playVideo()},onPlayerStateChange:function(t){t.data!==YT.PlayerState.PLAYING||this.done||(this.done=!this.done,this.youtubePlayer.playVideo()),t.data===YT.PlayerState.ENDED&&this.youtubePlayer.pauseVideo()},setTwitch:function(t){this.twitchCode=t.split("https://www.twitch.tv/videos/")[1];var i={width:"100%",height:"100%",video:this.twitchCode,playsinline:!0,time:0};this.mainVideo.append('<div id="player"></div>'),this.media=new Twitch.Player("player",i)},clickFunc:function(t){t.preventDefault();var e=i(t.currentTarget);if(e.data("matchNo")&&(this.matchNo=e.data("matchNo").toString(),console.log(this.matchNo),null!==this.matchNo&&void 0!==this.matchNo)){if(i(".bracket_wrap").length>0){for(var s=0,n=e.children(".team").length;s<n;s++)this.result=e.children(".team").eq(s).hasClass("win")||e.children(".team").eq(s).hasClass("lose");if(!this.result)return}window.commonLayer.opts.viewBefore=i.proxy(function(){this.resetData(),this.getDataFunc(),window.commonLayer.opts.viewBefore=null},this),window.commonLayer.layerView("#layer_score"),window.commonLayer.opts.closeAfter=i.proxy(function(){this.type=!0,window.commonLayer.opts.closeAfter=null},this)}},getDataFunc:function(){var e=this;i("html").hasClass("division")?this.commonScoreJSON=t.OVERWATCH.Common.DataCall.getData("../json/score_division.json"):i("html").hasClass("trials")?this.commonScoreJSON=t.OVERWATCH.Common.DataCall.getData("../json/score_trials.json"):i("html").hasClass("contenders")?this.commonScoreJSON=t.OVERWATCH.Common.DataCall.getData("../json/score_contenders.json"):this.commonScoreJSON=t.OVERWATCH.Common.DataCall.getData("../json/score.json"),this.type&&(this.type=!1,this.commonScoreJSON.done(function(t){console.log("getDateFunc Done",t),e.setDataFunc(t)}))},setDataFunc:function(t){console.log("setDataFunc ...",t),void 0!==t&&(console.log(t.score),this.data=t,i.each(this.data.score,i.proxy(function(t,e){if(this.matchNo===e.no.toString()){if(console.log(this.title,this.title.length),this.title.text(e.title),this.date.text(e.date),this.team1.find("em").text(e.teamA_name),this.team2.find("em").text(e.teamB_name),this.logo1.data("teamNo",e.teamA_no),this.logo1.children().attr("src",e.teamA_img),this.logo2.data("teamNo",e.teamB_no),this.logo2.children().attr("src",e.teamB_img),this.score1.text(e.teamA_score),this.score2.text(e.teamB_score),(this.teamBox.hasClass("win")||this.teamBox.hasClass("lose")||this.teamBox.hasClass("bye")||this.teamBox.hasClass("out"))&&(this.teamBox.removeClass("win"),this.teamBox.removeClass("lose"),this.teamBox.removeClass("bye"),this.teamBox.removeClass("out")),parseInt(e.teamA_score)>parseInt(e.teamB_score)?(this.teamBox1.addClass("win"),this.teamBox2.addClass("lose")):(this.teamBox1.addClass("lose"),this.teamBox2.addClass("win")),(e.teamA_BYE||e.teamB_BYE)&&(""===e.teamA_BYE&&""===e.teamB_BYE||(!0===e.teamA_BYE?(this.teamBox1.addClass("bye"),this.teamBox2.addClass("out")):!0===e.teamB_BYE&&(this.teamBox1.addClass("out"),this.teamBox2.addClass("bye")))),e.detail){var s=this;this.dataTemplate=['<li class="score_item" id="{{id}}">','<a href="#" class="score_cont">','<div class="score score1">{{score1}}</div>','<div class="field">','<div class="field_in">{{field}}<span class="btn_go">PLAY</span></div>',"</div>",'<div class="score score2">{{score2}}</div>',"</a>","</li>"].join("\n"),i.each(e.detail,function(t,e){var n=s.dataTemplate;n=(n=(n=(n=n.replace(/{{score1}}/g,e.scoreA)).replace(/{{field}}/g,e.field_name)).replace(/{{score2}}/g,e.scoreB)).replace(/{{id}}/g,"field"+e.field_no),s.targetField.append(n),void 0!==e.video_url?i("#field"+e.field_no).find(i(".score_cont")).attr({href:e.video_url,target:"blank"}).show():(i("#field"+e.field_no).find(i(".score_cont")).attr("href","javascript:void(0);").show(),i("#field"+e.field_no).find(i(".score_cont")).css("cursor","default"),i("#field"+e.field_no).find(i(".btn_go")).hide()),parseInt(e.scoreA)>parseInt(e.scoreB)?i("#field"+e.field_no).find(i(".score1")).addClass("win"):parseInt(e.scoreA)<parseInt(e.scoreB)&&i("#field"+e.field_no).find(i(".score2")).addClass("win"),e.field_type&&i(".field"+e.field_no).addClass("tie")})}e.video_url?(this.btnHighlight.data({videoType:e.video_type,seasonNo:e.season_no,videoNo:e.no}),this.btnHighlight.show()):this.btnHighlight.hide()}},this)))},resetData:function(){this.score1.removeClass("win"),this.score2.removeClass("win"),this.targetField.children().remove()}},t.OVERWATCH.Common.DataCall={getData:function(t,e){return i.ajax({cache:!1,type:"GET",url:t,dataType:"json",success:function(t){},error:function(i){return console.error("ajax call err: "+t,i),i}})}},t.OVERWATCH.Common.TeamLayer=t.OVERWATCH.Common.TeamLayer||{},t.OVERWATCH.Common.TeamLayer=function(t){this.opts=i.extend({},{wrap:"#layer_team",closeBtn:".btn_close",teamName:".layer_tit span",area:".area",txt:".txt",logo:".logo",btnObj:"a.team_logo, button.team_logo",social:".social",teamPicture:".team_picture",memberArea:".member_area",memberBox:"#memberBox",memberList:".list_member"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Common.TeamLayer.prototype={init:function(){this.setElements(),this.initLayout(),this.setURL(),this.afterSetElements(),this.bindEvents()},initLayout:function(){this.wrap.css({display:"block",opacity:0,zIndex:-1}),this.area.hide()},setElements:function(){this.teamName=this.wrap.find(this.opts.teamName),this.area=this.wrap.find(this.opts.area),this.txt=this.wrap.find(this.opts.txt),this.logo=this.wrap.find(this.opts.logo),this.social=this.wrap.find(this.opts.social),this.teamPicture=this.wrap.find(this.opts.teamPicture),this.memberArea=this.wrap.find(this.opts.memberArea),this.memberBox=this.wrap.find(this.opts.memberBox),this.memberList=this.memberArea.find(this.opts.memberList),this.btnObj=i(this.opts.btnObj),this.closeBtn=this.wrap.find(this.opts.closeBtn)},setURL:function(){this.defaultTeamLogoImgUrl="../images/team/@team_logo_big_default.png",this.defaultTeamImgUrl="../images/team/@team_picture_default.jpg",this.defaultPlayerImgUrl="../images/team/@team_member_default.png"},afterSetElements:function(){},bindEvents:function(){i("body").on("click",this.opts.btnObj,i.proxy(this.clickFunc,this))},clickFunc:function(t){t.preventDefault(),t.stopPropagation();var e=i(t.currentTarget),s=parseInt(e.data("teamNo"));void 0!==e.data("teamNo")&&(this.resetData(),this.setDataFunc(s),this.wrap.css({display:"none",opacity:1,zIndex:110}),window.commonLayer.opts.viewAfter=i.proxy(function(){this.TeamLayerSticky.setWrapHeight(),this.TeamLayerSticky.createOffset(),window.commonLayer.opts.viewAfter=null},this),window.commonLayer.layerView(this.wrap),window.commonLayer.opts.closeAfter=i.proxy(function(){this.resetData(),window.commonLayer.opts.closeAfter=null},this))},resetData:function(){this.memberArea.hide(),this.memberBox.children().remove(),this.teamPicture.children().attr("src","")},setDataFunc:function(t){i.each(window.commonTeamJSON.teams,i.proxy(function(e,s){if(this.data=s,t===parseInt(this.data.team_no))if(this.teamName.text(s.team_name),this.txt.text(s.team_introduction),this.teamLogoPictureFunc(s.logo_img),this.teamSocialFunc(s.social),this.teamPictureFunc(s.team_picture),s.players){this.memberArea.show();var n='<ul class="list_member">';i.each(s.players,i.proxy(function(t,i){n+="<li>",n+=this.playerPictureFunc(i.image_file_path),n+='<div class="info">',n+=this.playerRoleFunc(i.role_code,i.candidate),n+='<span class="nickname">'+i.battle_tag+'</span><span class="name">'+i.player_name+"</span></div></li>"},this)),n+="</ul>",this.memberBox.append(n)}else this.memberArea.hide()},this))},teamLogoPictureFunc:function(t){t?this.logo.attr("src",t):this.logo.attr("src",this.defaultTeamLogoImgUrl)},teamSocialFunc:function(t){var i="";this.social.children().remove();for(var e in t)for(var s in t[e])"homepage"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="homepage"><span class="blind">홈페이지</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="homepage disabled"><span class="blind">홈페이지</span></a></li>')),"facebook"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="facebook"><span class="blind">페이스북</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="facebook disabled"><span class="blind">페이스북</span></a></li>')),"twitter"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="twitter"><span class="blind">트위터</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="twitter disabled"><span class="blind">트위터</span></a></li>')),"instagram"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="instagram"><span class="blind">인스타그램</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="instagram disabled"><span class="blind">인스타그램</span></a></li>')),"youtube"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="youtube"><span class="blind">유투브</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="youtube disabled"><span class="blind">유투브</span></a></li>')),"twitch"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="twitch"><span class="blind">트위치</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="twitch disabled"><span class="blind">트위치</span></a></li>'));this.social.append(i)},teamPictureFunc:function(t){null===t?this.teamPicture.remove():this.teamPicture.find("img").attr("src",t)},playerPictureFunc:function(t){var i="";return i+=t?'<span class="thumb"><img src="'+t+'" alt=""></span>':'<span class="thumb"><img src="'+this.defaultPlayerImgUrl+'" alt=""></span>'},playerRoleFunc:function(t,i){var e="";return(i||!0===i)&&(e+='<span class="ico"><em>후보</em></span>'),"CG0006010"===t?e+='<span class="ico offense"><img src="../images/icon_offense.png" alt="공격"></span>':"CG0006020"===t?e+='<span class="ico tank"><img src="../images/icon_tank.png" alt="돌격"></span>':"CG0006030"===t?e+='<span class="ico flex"><img src="../images/icon_flex.png" alt="플렉스"></span>':"CG0006040"===t&&(e+='<span class="ico support"><img src="../images/icon_support.png" alt="지원"></span>'),e},layerViewAfter:function(){this.wrap.children().on("clickoutside",i.proxy(this.closeFunc,this))},reInit:function(){this.wrap.length&&(this.TeamLayerSticky=new t.OVERWATCH.Common.TeamLayerSticky)}},t.OVERWATCH.Common.TeamLayerSticky=t.OVERWATCH.Common.TeamLayerSticky||{},t.OVERWATCH.Common.TeamLayerSticky=function(t){this.opts=i.extend({},{wrap:"#layer_team",topArea:".top_area",topObj:".layer_tit",btnObj:".btn_close",fixedClass:"fixed"},t||{}),(this.topArea=i(this.opts.topArea)).length&&this.init()},t.OVERWATCH.Common.TeamLayerSticky.prototype={init:function(){this.setElements(),this.initLayout(),this.createOffset(),this.scrollFunc(),this.bindEvents()},initLayout:function(){var t="js-"+this.topObj.attr("class")+"-wrap";this.topObj.wrap('<div class="'+t+'"/>'),this.topObjWrap=this.topObj.parent()},setElements:function(){this.wrap=i(this.opts.wrap),this.topArea=this.wrap.find(this.opts.topArea),this.topObj=this.wrap.find(this.opts.topObj),this.btnObj=this.wrap.find(this.opts.btnObj)},bindEvents:function(){this.wrap.on("scroll",i.proxy(this.scrollFunc,this))},createOffset:function(){this.maxObjOffset=this.topObj.offset().top+this.topObj.outerHeight()},setWrapHeight:function(){this.topObjWrap.css("height",this.topObj.outerHeight(!0))},scrollFunc:function(){this.quickFixedFunc()},quickFixedFunc:function(){this.wrap.scrollTop()>=this.maxObjOffset?(this.topObj.addClass(this.opts.fixedClass),this.btnObj.addClass("text_none")):(this.topObj.removeClass(this.opts.fixedClass),this.btnObj.addClass("text_none"))}};i(function(){if(o.init(),t.MainGnbSticky=new t.OVERWATCH.Common.MainGnbSticky,t.SubMainSticky=new t.OVERWATCH.Common.SubMainSticky,t.commonLayer=new t.OVERWATCH.Common.commonLayer,t.GnbSlick=new t.OVERWATCH.Common.GnbSlick,t.TopBtn=new t.OVERWATCH.Common.TopBtn,t.CommonBanner=new t.OVERWATCH.Common.CommonBanner,t.SelectBox=new t.OVERWATCH.Common.SelectBox,t.OVERWATCH.Common.slickSlideCall.init(),t.FooterFamily=new t.OVERWATCH.Common.FooterFamily,i("html").hasClass("division"))var e=t.OVERWATCH.Common.DataCall.getData("resources/json/team_division.json",function(e){t.commonTeamJSON=e,i("body").trigger("page.reposition")});else if(i("html").hasClass("trials"))e=t.OVERWATCH.Common.DataCall.getData("resources/json/team_trials.json",function(e){t.commonTeamJSON=e,i("body").trigger("page.reposition")});else if(i("html").hasClass("contenders"))e=t.OVERWATCH.Common.DataCall.getData("resources/json/team_contenders.json",function(e){t.commonTeamJSON=e,i("body").trigger("page.reposition")});else e=t.OVERWATCH.Common.DataCall.getData("resources/json/team.json",function(e){t.commonTeamJSON=e,i("body").trigger("page.reposition")});t.OVERWATCH.Common.DataCall.getData("/resources/json/score_contenders.json",function(t){console.log(11111),s=t}),e.done(function(t){}),t.ScoreLayer=new t.OVERWATCH.Common.ScoreLayer,t.TeamLayer=new t.OVERWATCH.Common.TeamLayer,t.OVERWATCH.Common.Pageobj.push(t.TeamLayer),console.log("asdfasdfasdf")})}(window,window.jQuery,window.document),function(t,i,e){"use strict";t.OVERWATCH=t.OVERWATCH||{},t.OVERWATCH.Common=t.OVERWATCH.Common||{};var s=t.OVERWATCH.Common.util,n=t.OVERWATCH.page;t.OVERWATCH.Common.commonLayer=t.OVERWATCH.Common.commonLayer||{},t.OVERWATCH.Common.commonLayer=function(t){this.opts=i.extend({},{btnElements:".js-layer-btn button",layerWrapElement:".layer_wrap",layerElement:".layer_content",closeElements:".btn_close",speed:150,viewBefore:null,viewAfter:null,closeBefore:null,closeAfter:null},t||{}),(this.layerWrap=i(this.opts.layerWrapElement)).length&&this.init()},t.OVERWATCH.Common.commonLayer.prototype={init:function(){this.setElements(),this.initLayout(),this.bindEvents()},setElements:function(){this.layerObj=this.layerWrap.find(this.opts.layerElement),this.closeBtn=this.layerWrap.find(this.opts.closeElements),this.btnObj=i(this.opts.btnElements)},initLayout:function(){this.arr=[],this.zindex=parseInt(this.layerWrap.css("zIndex"))},bindEvents:function(){this.closeBtn.on("click",i.proxy(this.layerClickOutside,this))},layerView:function(t){this.layerWrap=i(t),this.outCallback("viewBefore"),this.arr.push(this.layerWrap);for(var e=0,s=this.arr.length;e<s;e++)this.arr[e].css("zIndex",this.zindex+e);this.showAfterBugFunc(),this.arr[this.arr.length-1].stop().fadeIn(this.opts.speed)},showAfterBugFunc:function(){t.clearTimeout(this.showAfterTimeout),this.showAfterTimeout=t.setTimeout(i.proxy(this.layerViewAfter,this),30)},layerViewAfter:function(){this.outSideEvents(!0),n.scrollLock(!0),this.outCallback("viewAfter")},layerClickOutside:function(){0!==this.arr.length&&(this.outCallback("closeBefore"),t.clearTimeout(this.closeBeforeTimeout),this.closeBeforeTimeout=t.setTimeout(i.proxy(this.hideBeforeBugFunc,this),30),this.outSideEvents(!1))},hideBeforeBugFunc:function(){this.arr[this.arr.length-1].stop().fadeOut(this.opts.speed),this.hideAfterBugFunc()},hideAfterBugFunc:function(){t.clearTimeout(this.closeAfterTimeout),this.closeAfterTimeout=t.setTimeout(i.proxy(this.layerCloseAfter,this),30)},layerCloseAfter:function(t){this.arr.pop(),this.layerClose(),this.arr.length<=0&&n.scrollLock(!1),this.outCallback("closeAfter")},layerClose:function(){0!==this.arr.length&&(this.arr[this.arr.length-1].triggerHandler("clickoutside"),this.outSideEvents(!0))},outSideEvents:function(t){if(0!==this.arr.length){for(var e=0,s=this.arr.length;e<s;e++)this.arr[e].find(this.layerObj).off("clickoutside touchendoutside");t?this.arr[this.arr.length-1].find(this.layerObj).on("clickoutside touchendoutside",i.proxy(this.layerClickOutside,this)):this.arr[this.arr.length-1].children().off("clickoutside touchendoutside")}},escapeFunc:function(t){27===(t.which||t.keyCode)&&this.layerClose()},outCallback:function(t){var i=this.opts[t];null!==i&&i()}},t.OVERWATCH.Common.GnbSlick=t.OVERWATCH.Common.GnbSlick||{},t.OVERWATCH.Common.GnbSlick=function(t){this.opts=i.extend({},{slickOpts:{dots:!1,infinite:!1,speed:0,fade:!1,cssEase:"linear",autoplay:!1,slidesToShow:4,slidesToScroll:1,arrows:!1,responsive:[{breakpoint:1441,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0}}]},wrap:".header_top",slickWrap:".nav_area",slickWrapChild:".nav_cont"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Common.GnbSlick.prototype={init:function(){this.setElements(),this.bindEvents(),this.buildSlick(),this.afterSetElements(),this.afterBindeEvents()},setElements:function(){this.slickWrap=this.wrap.find(this.opts.slickWrap),this.slickWrapChild=this.wrap.find(this.opts.slickWrapChild)},afterSetElements:function(){this.btnPrev=i(".slick-prev"),this.btnNext=i(".slick-next")},bindEvents:function(){i(t).on("resize",i.proxy(this.resizeFunc,this))},afterBindeEvents:function(){},setSlideViewNum:function(){this.opts.slickOpts.slidesToShow=parseInt(this.slickWrap.outerWidth(!0)/this.slickWrapChild.outerWidth(!0))},buildSlick:function(){this.slickWrap.slick(this.opts.slickOpts)},resizeFunc:function(){},reInit:function(){}},t.OVERWATCH.Common.MainGnbSticky=t.OVERWATCH.Common.MainGnbSticky||{},t.OVERWATCH.Common.MainGnbSticky=function(t){this.opts=i.extend({},{header:".header",headerTop:".header_top",fixedClass:"fixed"},t||{}),(this.header=i(this.opts.header)).length&&this.init()},t.OVERWATCH.Common.MainGnbSticky.prototype={init:function(){this.setElements(),this.initLayout(),this.createOpts(),this.scrollFunc(),this.setWrapHeight(),this.bindEvents()},setElements:function(){this.headerTop=this.header.find(this.opts.headerTop)},initLayout:function(){this.docHeight=i(document).height()},bindEvents:function(){i(t).on("scroll",i.proxy(this.scrollFunc,this)),i(t).on("resize",i.proxy(this.resizeFunc,this))},createOpts:function(){this.headerTopOffset=this.headerTop.offset().top,this.headerOuterHeight=this.headerTop.outerHeight()},setWrapHeight:function(){this.header.css("height",this.headerOuterHeight)},scrollFunc:function(){var e=i(t).scrollTop();this.docHeight!==i(document).height()&&(this.headerTopOffset=this.headerTop.offset().top,this.docHeight=i(document).height()),e>this.headerTopOffset?this.headerTop.addClass(this.opts.fixedClass):this.headerTop.removeClass(this.opts.fixedClass)},resizeFunc:function(){this.headerOuterHeight=this.headerTop.height(),this.setWrapHeight()}},t.OVERWATCH.Common.SubMainSticky=t.OVERWATCH.Common.SubMainSticky||{},t.OVERWATCH.Common.SubMainSticky=function(t){this.opts=i.extend({},{header:"#header",topContent:".top_content",topContentTop:".top_inner",subNav:"#sub_nav",fixedClass:"fixed"},t||{}),(this.subNav=i(this.opts.subNav)).length&&(this.header=i(this.opts.header)).length&&this.init()},t.OVERWATCH.Common.SubMainSticky.prototype={init:function(){this.setElements(),this.createOpts(),this.scrollFunc(),this.setWrapHeight(),this.bindEvents()},setElements:function(){this.topContent=i(this.opts.topContent),this.topContentTop=this.topContent.find(this.opts.topContentTop),this.subNav=this.topContent.find(this.opts.subNav)},bindEvents:function(){i(t).on("scroll",i.proxy(this.scrollFunc,this)),i(t).on("resize",i.proxy(this.resizeFunc,this))},createOpts:function(){this.subNavOffset=this.subNav.offset().top,this.topContentOuterHeight=this.topContent.outerHeight()},setWrapHeight:function(){this.topContent.css("height",this.topContentOuterHeight)},scrollFunc:function(){i(t).scrollTop()>=this.subNavOffset?this.topContentTop.addClass(this.opts.fixedClass):this.topContentTop.removeClass(this.opts.fixedClass)},resizeFunc:function(){this.topContentOuterHeight=this.topContent.height(),this.setWrapHeight()}},t.OVERWATCH.Common.TopBtn=function(t){this.opts=i.extend({},{btnTop:".btn_top",minObj:"#content",speed:100},t||{}),(this.btnTop=i(this.opts.btnTop)).length&&this.init()},t.OVERWATCH.Common.TopBtn.prototype={init:function(){this.setElements(),this.bindEvents(),this.initLayout()},setElements:function(){this.minObj=i(this.opts.minObj)},initLayout:function(){this.scrollFunc()},bindEvents:function(){i(t).on("scroll",i.proxy(this.scrollFunc,this)),this.btnTop.on("click",i.proxy(this.clickFunc,this))},scrollFunc:function(){var e=i(t).scrollTop();i(t).height();this.minOffsetTop=this.minObj.offset().top,e>this.minOffsetTop?this.btnTop.is(":visible")||this.btnTop.stop().fadeIn(this.opts.speed):this.btnTop.is(":visible")&&this.btnTop.stop().fadeOut(this.opts.speed)},clickFunc:function(t){t.preventDefault(),i("html, body").is(":animated")||i("html, body").stop().animate({scrollTop:0},300)}},t.OVERWATCH.Common.CommonBanner=t.OVERWATCH.Common.CommonBanner||{},t.OVERWATCH.Common.CommonBanner=function(t){this.opts=i.extend({},{wrap:".common_banner",btnObj:".close"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Common.CommonBanner.prototype={init:function(){this.setElements(),this.bindEvents()},setElements:function(){this.btnObj=this.wrap.find(this.opts.btnObj)},bindEvents:function(){this.btnObj.on("click",i.proxy(this.clickFunc,this))},clickFunc:function(t){t.preventDefault(),this.wrap.stop(!0,!0).animate({height:0},300,i.proxy(function(){this.wrap.hide()},this))}},t.OVERWATCH.Common.SelectBox=t.OVERWATCH.Common.SelectBox||{},t.OVERWATCH.Common.SelectBox=function(t){this.opts=i.extend({},{selectWrap:".sel_bx",selectBtn:".sel_tit",selectItem:".sel_item",activeClass:"on"},t||{}),(this.selectWrap=i(this.opts.selectWrap)).length&&this.init()},t.OVERWATCH.Common.SelectBox.prototype={init:function(){this.setElements(),this.bindEvents()},setElements:function(){this.selectWrap=i(this.opts.selectWrap),this.selectItem=this.selectWrap.find(this.opts.selectItem),this.selectBtn=this.selectWrap.find(this.opts.selectBtn),this.selectBtnChild=this.selectBtn.children()},bindEvents:function(){this.selectWrap.on("click",".sel_tit",i.proxy(this.clickOpenFunc,this)),this.selectItem.on("click","a",i.proxy(this.clickListFunc,this))},clickOpenFunc:function(t){t.preventDefault();var e=i(t.delegateTarget);i(t.currentTarget);e.hasClass(this.opts.activeClass)?(e.removeClass(this.opts.activeClass),e.off("clickoutside touchendoutside")):(e.addClass(this.opts.activeClass),e.on("clickoutside touchendoutside",i.proxy(function(){this.outSideEvents(e)},this)))},clickListFunc:function(t){t.preventDefault();i(t.delegateTarget);var e=i(t.currentTarget),s=e.children(),n=e.closest(this.selectWrap);n.find(this.selectBtn).children().text(s.text()),n.removeClass(this.opts.activeClass)},outSideEvents:function(t){t.removeClass(this.opts.activeClass),t.off("clickoutside touchendoutside")},unBindeEvents:function(){this.selectWrap.off("click",".sel_tit",i.proxy(this.clickOpenFunc,this)),this.selectItem.off("click","a",i.proxy(this.clickListFunc,this))},reInit:function(){this.unBindeEvents(),this.setElements(),this.bindEvents()}},t.OVERWATCH.Common.slickSlide=t.OVERWATCH.Common.slickSlide||{},t.OVERWATCH.Common.slickSlide=function(t){this.opts={slickOpts:{dots:!0,infinite:!0,speed:400,cssEase:"linear",autoplay:!1,autoplaySpeed:3e3},slickWrap:".main_bx"},this.wrap=i(t),this.init()},t.OVERWATCH.Common.slickSlide.prototype={init:function(){this.setElements(),this.bindEvents(),this.buildSlick(),this.afterBindeEvents()},setElements:function(){this.slickWrap=this.wrap.find(this.opts.slickWrap)},bindEvents:function(){},buildSlick:function(){this.slickWrap.slick(this.opts.slickOpts)},afterBindeEvents:function(){}},t.OVERWATCH.Common.slickSlideCall={init:function(){this.setElements(),this.buildSlickCall()},setElements:function(){this.slideWrap=i(".media_area")},buildSlickCall:function(){for(var i=0,e=this.slideWrap.length;i<e;i++)new t.OVERWATCH.Common.slickSlide(this.slideWrap.eq(i))}},t.OVERWATCH.Common.FooterFamily=t.OVERWATCH.Common.FooterFamily||{},t.OVERWATCH.Common.FooterFamily=function(t){this.opts=i.extend({},{wrap:"#footer",familyCont:".family",clickObj:".menu_txt",familyList:".family_lst",activeClass:"on"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Common.FooterFamily.prototype={init:function(){this.setElements(),this.initLayout(),this.bindEvents()},initLayout:function(){this.familyCont.removeClass(this.opts.activeClass)},setElements:function(){this.familyCont=this.wrap.find(this.opts.familyCont),this.clickObj=this.wrap.find(this.opts.clickObj),this.familyList=this.wrap.find(this.opts.familyList)},bindEvents:function(){this.familyCont.on("click",this.opts.clickObj,i.proxy(this.clickFunc,this))},clickFunc:function(t){t.preventDefault();var e=i(t.delegateTarget);i(t.currentTarget);e.hasClass(this.opts.activeClass)?(e.removeClass(this.opts.activeClass),e.off("clickoutside touchendoutside")):(e.addClass(this.opts.activeClass),e.on("clickoutside touchendoutside",i.proxy(function(){this.outSideEvents(e)},this)))},outSideEvents:function(t){t.removeClass(this.opts.activeClass),t.off("clickoutside touchendoutside")}},t.OVERWATCH.Common.ScoreLayer=function(t){this.opts=s.def({wrap:"#layer_score",title:".layer_tit",date:".match_date",teamBox:".team_bx",teamBox1:".team_bx1",teamBox2:".team_bx2",team:".name",teamLogo:".team_logo",detailBox:".match_detail",targetField:".score_list",clickObj:".bracket_area .team_bx,.standing .detail_item",btnHighlight:".btn_highlight",btnScheduleVideo:".schedule_area .btn_vod",layer:"#layer_media",mainVideo:".main_video",mediaTitle:".layer_tit",mediaDate:".match_date",mediaTeam1:".team1",mediaTeam2:".team2",mediaScore1:".score1",mediaScore2:".score2"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Common.ScoreLayer.prototype={init:function(){this.onLoadTwitchApi(),this.onLoadYoutubeApi(),this.setElements(),this.initLayout(),this.bindEvents()},initLayout:function(){this.resetData(),this.type=!0,this.isHightlight=!1},onLoadTwitchApi:function(){!function(){var t=document.createElement("script");t.src="https://player.twitch.tv/js/embed/v1.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}()},onLoadYoutubeApi:function(){!function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}()},setElements:function(){this.title=this.wrap.find(this.opts.title),this.date=this.wrap.find(this.opts.date),this.teamBox=this.wrap.find(this.opts.teamBox),this.teamBox1=this.wrap.find(this.opts.teamBox1),this.team1=this.teamBox1.find(this.opts.team),this.logo1=this.teamBox1.find(this.opts.teamLogo),this.teamBox2=this.wrap.find(this.opts.teamBox2),this.team2=this.teamBox2.find(this.opts.team),this.logo2=this.teamBox2.find(this.opts.teamLogo),this.scoreBox=this.wrap.find(this.opts.scoreBox),this.score1=this.teamBox1.find(".score1"),this.score2=this.teamBox2.find(".score2"),this.detailBox=this.wrap.find(this.opts.detailBox),this.targetField=this.detailBox.find(this.opts.targetField),this.clickObj=i(this.opts.clickObj),this.btnHighlight=this.wrap.find(this.opts.btnHighlight),this.btnScheduleVideo=i(this.opts.btnScheduleVideo),this.layer=i(this.opts.layer),this.mainVideo=this.layer.find(this.opts.mainVideo),this.mediaTitle=this.layer.find(this.opts.mainTitle),this.mediaDate=this.layer.find(this.opts.mediaDate),this.mediaTeam1=this.layer.find(this.opts.team1),this.mediaTeam2=this.layer.find(this.opts.team2),this.mediaScore1=this.layer.find(this.opts.score1),this.mediaScore2=this.layer.find(this.opts.score2),this.mediaDate=this.layer.find(this.opts.date)},bindEvents:function(){i("body").on("click",this.opts.clickObj,i.proxy(this.clickFunc,this)),this.btnHighlight.on("click",i.proxy(this.clickHighlight,this)),this.btnScheduleVideo.on("click",i.proxy(this.clickMedia,this))},clickMedia:function(t){t.preventDefault();i(t.currentTarget).hasClass(".disabled")||this.clickHighlight(t)},clickHighlight:function(t){t.preventDefault();var e=i(t.currentTarget);this.videoNo=e.data("videoNo").toString(),this.layer.css({display:"none",opacity:1,zIndex:110}),window.commonLayer.opts.viewBefore=i.proxy(function(){this.isHightlight||this.getDataFunc(),this.setLayer(),window.commonLayer.opts.viewBefore=null},this),window.commonLayer.layerView(this.layer),window.commonLayer.opts.closeAfter=i.proxy(function(){this.mainVideo.children().remove(),this.type=!0,window.commonLayer.opts.closeAfter=null},this)},setLayer:function(){i.each(this.data.score,i.proxy(function(t,e){this.videoNo===e.no.toString()&&(this.layer.find(i(this.opts.mediaTitle)).text(e.video_title),this.layer.find(i(this.opts.mediaTeam1)).text(e.teamA_name),this.layer.find(i(this.opts.mediaTeam2)).text(e.teamB_name),this.layer.find(i(this.opts.mediaScore1)).text(e.teamA_score),this.layer.find(i(this.opts.mediaScore2)).text(e.teamB_score),this.layer.find(i(this.opts.mediaDate)).text(e.date),"twitch"===e.video_type?this.setTwitch(e.video_url):"youtube"===e.video_type&&this.setYoutube(e.video_url))},this)),this.isHightlight=!0},setYoutubeCode:function(t){this.initCode=t.split("https://www.youtube.com/watch?v=")[1].split("&t="),this.youtubeCode=this.initCode[0],void 0!==this.initCode[1]?this.startSeconds=parseInt(this.initCode[1].split("s")[0]):this.startSeconds=0},setYoutube:function(t){this.setYoutubeCode(t),this.mainVideo.append('<div id="player"></div>'),this.onYouTubeIframeAPIReady()},onYouTubeIframeAPIReady:function(){this.youtubePlayer=new t.YT.Player("player",{playerVars:{autoplay:0,controls:1,showinfo:0,rel:0},events:{onReady:i.proxy(this.onPlayerReady,this),onStateChange:i.proxy(this.onPlayerStateChange,this)},fs:1})},onPlayerReady:function(t){this.youtubePlayer.loadVideoById({videoId:this.youtubeCode,startSeconds:this.startSeconds}),this.youtubePlayer.playVideo()},onPlayerStateChange:function(t){t.data!==YT.PlayerState.PLAYING||this.done||(this.done=!this.done,this.youtubePlayer.playVideo()),t.data===YT.PlayerState.ENDED&&this.youtubePlayer.pauseVideo()},setTwitch:function(t){this.twitchCode=t.split("https://www.twitch.tv/videos/")[1];var i={width:"100%",height:"100%",video:this.twitchCode,playsinline:!0,time:0};this.mainVideo.append('<div id="player"></div>'),this.media=new Twitch.Player("player",i)},clickFunc:function(t){t.preventDefault();var e=i(t.currentTarget);if(e.data("matchNo")&&(this.matchNo=e.data("matchNo").toString(),null!==this.matchNo&&void 0!==this.matchNo)){if(i(".bracket_wrap").length>0){for(var s=0,n=e.children(".team").length;s<n;s++)this.result=e.children(".team").eq(s).hasClass("win")||e.children(".team").eq(s).hasClass("lose");if(!this.result)return}window.commonLayer.opts.viewBefore=i.proxy(function(){this.resetData(),this.getDataFunc(),window.commonLayer.opts.viewBefore=null},this),window.commonLayer.layerView("#layer_score"),window.commonLayer.opts.closeAfter=i.proxy(function(){this.type=!0,window.commonLayer.opts.closeAfter=null},this)}},getDataFunc:function(){this.type&&(this.type=!1,this.setDataFunc(window.commonScoreJSON))},setDataFunc:function(t){void 0!==t&&(this.data=t,i.each(this.data.score,i.proxy(function(t,e){if(this.matchNo===e.no.toString()){if(this.title.text(e.title),this.date.text(e.date),this.team1.find("em").text(e.teamA_name),this.team2.find("em").text(e.teamB_name),this.logo1.data("teamNo",e.teamA_no),this.logo1.children().attr("src",e.teamA_img),this.logo2.data("teamNo",e.teamB_no),this.logo2.children().attr("src",e.teamB_img),this.score1.text(e.teamA_score),this.score2.text(e.teamB_score),(this.teamBox.hasClass("win")||this.teamBox.hasClass("lose")||this.teamBox.hasClass("bye")||this.teamBox.hasClass("out"))&&(this.teamBox.removeClass("win"),this.teamBox.removeClass("lose"),this.teamBox.removeClass("bye"),this.teamBox.removeClass("out")),parseInt(e.teamA_score)>parseInt(e.teamB_score)?(this.teamBox1.addClass("win"),this.teamBox2.addClass("lose")):(this.teamBox1.addClass("lose"),this.teamBox2.addClass("win")),(e.teamA_BYE||e.teamB_BYE)&&(""===e.teamA_BYE&&""===e.teamB_BYE||(!0===e.teamA_BYE?(this.teamBox1.addClass("bye"),this.teamBox2.addClass("out")):!0===e.teamB_BYE&&(this.teamBox1.addClass("out"),this.teamBox2.addClass("bye")))),e.detail){var s=this;this.dataTemplate=['<li class="score_item" id="{{id}}">','<a href="#" class="score_cont">','<div class="score score1">{{score1}}</div>','<div class="field">','<div class="field_in">{{field}}<span class="btn_go">PLAY</span></div>',"</div>",'<div class="score score2">{{score2}}</div>',"</a>","</li>"].join("\n"),i.each(e.detail,function(t,e){var n=s.dataTemplate;n=(n=(n=(n=n.replace(/{{score1}}/g,e.scoreA)).replace(/{{field}}/g,e.field_name)).replace(/{{score2}}/g,e.scoreB)).replace(/{{id}}/g,"field"+e.field_no),s.targetField.append(n),void 0!==e.video_url?i("#field"+e.field_no).find(i(".score_cont")).attr({href:e.video_url,target:"blank"}).show():(i("#field"+e.field_no).find(i(".score_cont")).attr("href","javascript:void(0);").show(),i("#field"+e.field_no).find(i(".score_cont")).css("cursor","default"),i("#field"+e.field_no).find(i(".btn_go")).hide()),parseInt(e.scoreA)>parseInt(e.scoreB)?i("#field"+e.field_no).find(i(".score1")).addClass("win"):parseInt(e.scoreA)<parseInt(e.scoreB)&&i("#field"+e.field_no).find(i(".score2")).addClass("win"),e.field_type&&i("#field"+e.field_no).find(".field").addClass("tie")})}e.video_url?(this.btnHighlight.data({videoType:e.video_type,seasonNo:e.season_no,videoNo:e.no}),this.btnHighlight.show()):this.btnHighlight.hide()}},this)))},resetData:function(){this.score1.removeClass("win"),this.score2.removeClass("win"),this.targetField.children().remove()}},t.OVERWATCH.Common.DataCall={getData:function(t){return i.ajax({cache:!1,type:"GET",url:t,dataType:"json",success:function(){}})}},t.OVERWATCH.Common.TeamLayer=t.OVERWATCH.Common.TeamLayer||{},t.OVERWATCH.Common.TeamLayer=function(t){this.opts=i.extend({},{wrap:"#layer_team",closeBtn:".btn_close",teamName:".layer_tit span",area:".area",txt:".txt",logo:".logo",btnObj:"a.team_logo, button.team_logo",social:".social",teamPicture:".team_picture",memberArea:".member_area",memberBox:"#memberBox",memberList:".list_member"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Common.TeamLayer.prototype={init:function(){this.setElements(),this.initLayout(),this.setURL(),this.afterSetElements(),this.bindEvents()},initLayout:function(){this.wrap.css({display:"block",opacity:0,zIndex:-1}),this.area.hide()},setElements:function(){this.teamName=this.wrap.find(this.opts.teamName),this.area=this.wrap.find(this.opts.area),this.txt=this.wrap.find(this.opts.txt),this.logo=this.wrap.find(this.opts.logo),this.social=this.wrap.find(this.opts.social),this.teamPicture=this.wrap.find(this.opts.teamPicture),this.memberArea=this.wrap.find(this.opts.memberArea),this.memberBox=this.wrap.find(this.opts.memberBox),this.memberList=this.memberArea.find(this.opts.memberList),this.btnObj=i(this.opts.btnObj),this.closeBtn=this.wrap.find(this.opts.closeBtn)},setURL:function(){this.defaultTeamLogoImgUrl="../images/team/@team_logo_big_default.png",this.defaultTeamImgUrl="../images/team/@team_picture_default.jpg",this.defaultPlayerImgUrl="../images/team/@team_member_default.png"},afterSetElements:function(){},bindEvents:function(){i("body").on("click",this.opts.btnObj,i.proxy(this.clickFunc,this))},clickFunc:function(t){t.preventDefault(),t.stopPropagation();var e=i(t.currentTarget),s=parseInt(e.data("teamNo"));void 0!==e.data("teamNo")&&(this.resetData(),this.setDataFunc(s),this.wrap.css({display:"none",opacity:1,zIndex:110}),window.commonLayer.opts.viewAfter=i.proxy(function(){this.TeamLayerSticky.setWrapHeight(),this.TeamLayerSticky.createOffset(),window.commonLayer.opts.viewAfter=null},this),window.commonLayer.layerView(this.wrap),window.commonLayer.opts.closeAfter=i.proxy(function(){this.resetData(),window.commonLayer.opts.closeAfter=null},this))},resetData:function(){this.memberArea.hide(),this.memberBox.children().remove(),this.teamPicture.children().attr("src","")},setDataFunc:function(t){i.each(window.commonTeamJSON.teams,i.proxy(function(e,s){if(this.data=s,t===parseInt(this.data.team_no))if(this.teamName.text(s.team_name),this.txt.text(s.team_introduction),this.teamLogoPictureFunc(s.logo_img),this.teamSocialFunc(s.social),this.teamPictureFunc(s.team_picture),s.players){this.memberArea.show();var n='<ul class="list_member">';i.each(s.players,i.proxy(function(t,i){n+="<li>",n+=this.playerPictureFunc(i.image_file_path),n+='<div class="info">',n+=this.playerRoleFunc(i.role_code,i.candidate),n+='<span class="nickname">'+i.battle_tag+'</span><span class="name">'+i.player_name+"</span></div></li>"},this)),n+="</ul>",this.memberBox.append(n)}else this.memberArea.hide()},this))},teamLogoPictureFunc:function(t){t?this.logo.attr("src",t):this.logo.attr("src",this.defaultTeamLogoImgUrl)},teamSocialFunc:function(t){var i="";this.social.children().remove();for(var e in t)for(var s in t[e])"homepage"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="homepage"><span class="blind">홈페이지</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="homepage disabled"><span class="blind">홈페이지</span></a></li>')),"facebook"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="facebook"><span class="blind">페이스북</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="facebook disabled"><span class="blind">페이스북</span></a></li>')),"twitter"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="twitter"><span class="blind">트위터</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="twitter disabled"><span class="blind">트위터</span></a></li>')),"instagram"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="instagram"><span class="blind">인스타그램</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="instagram disabled"><span class="blind">인스타그램</span></a></li>')),"youtube"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="youtube"><span class="blind">유투브</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="youtube disabled"><span class="blind">유투브</span></a></li>')),"twitch"===s&&(""!==t[e][s]&&(i+='<li><a href="'+t[e][s]+'" target="_blank" class="twitch"><span class="blind">트위치</span></a></li>'),""===t[e][s]&&(i+='<li><a href="javascript:void(0);" target="_blank" class="twitch disabled"><span class="blind">트위치</span></a></li>'));this.social.append(i)},teamPictureFunc:function(t){null===t?this.teamPicture.remove():this.teamPicture.find("img").attr("src",t)},playerPictureFunc:function(t){var i="";return i+=t?'<span class="thumb"><img src="'+t+'" alt=""></span>':'<span class="thumb"><img src="'+this.defaultPlayerImgUrl+'" alt=""></span>'},playerRoleFunc:function(t,i){var e="";return(i||!0===i)&&(e+='<span class="ico"><em>후보</em></span>'),"CG0006010"===t?e+='<span class="ico offense"><img src="../images/icon_offense.png" alt="공격"></span>':"CG0006020"===t?e+='<span class="ico tank"><img src="../images/icon_tank.png" alt="돌격"></span>':"CG0006030"===t?e+='<span class="ico flex"><img src="../images/icon_flex.png" alt="플렉스"></span>':"CG0006040"===t&&(e+='<span class="ico support"><img src="../images/icon_support.png" alt="지원"></span>'),e},layerViewAfter:function(){this.wrap.children().on("clickoutside",i.proxy(this.closeFunc,this))},reInit:function(){this.wrap.length&&(this.TeamLayerSticky=new t.OVERWATCH.Common.TeamLayerSticky)}},t.OVERWATCH.Common.TeamLayerSticky=t.OVERWATCH.Common.TeamLayerSticky||{},t.OVERWATCH.Common.TeamLayerSticky=function(t){this.opts=i.extend({},{wrap:"#layer_team",topArea:".top_area",topObj:".layer_tit",btnObj:".btn_close",fixedClass:"fixed"},t||{}),(this.topArea=i(this.opts.topArea)).length&&this.init()},t.OVERWATCH.Common.TeamLayerSticky.prototype={init:function(){this.setElements(),this.initLayout(),this.createOffset(),this.scrollFunc(),this.bindEvents()},initLayout:function(){var t="js-"+this.topObj.attr("class")+"-wrap";this.topObj.wrap('<div class="'+t+'"/>'),this.topObjWrap=this.topObj.parent()},setElements:function(){this.wrap=i(this.opts.wrap),this.topArea=this.wrap.find(this.opts.topArea),this.topObj=this.wrap.find(this.opts.topObj),this.btnObj=this.wrap.find(this.opts.btnObj)},bindEvents:function(){this.wrap.on("scroll",i.proxy(this.scrollFunc,this))},createOffset:function(){this.maxObjOffset=this.topObj.offset().top+this.topObj.outerHeight()},setWrapHeight:function(){this.topObjWrap.css("height",this.topObj.outerHeight(!0))},scrollFunc:function(){this.quickFixedFunc()},quickFixedFunc:function(){this.wrap.scrollTop()>=this.maxObjOffset?(this.topObj.addClass(this.opts.fixedClass),this.btnObj.addClass("text_none")):(this.topObj.removeClass(this.opts.fixedClass),this.btnObj.addClass("text_none"))}},i(function(){if(n.init(),t.commonLayer=new t.OVERWATCH.Common.commonLayer,t.GnbSlick=new t.OVERWATCH.Common.GnbSlick,t.MainGnbSticky=new t.OVERWATCH.Common.MainGnbSticky,t.SubMainSticky=new t.OVERWATCH.Common.SubMainSticky,t.TopBtn=new t.OVERWATCH.Common.TopBtn,t.CommonBanner=new t.OVERWATCH.Common.CommonBanner,t.SelectBox=new t.OVERWATCH.Common.SelectBox,t.OVERWATCH.Common.slickSlideCall.init(),t.FooterFamily=new t.OVERWATCH.Common.FooterFamily,i("html").hasClass("division"))var e=t.OVERWATCH.Common.DataCall.getData("../json/team_division.json"),s=t.OVERWATCH.Common.DataCall.getData("../json/score_division.json");else if(i("html").hasClass("trials"))e=t.OVERWATCH.Common.DataCall.getData("../json/team_trials.json"),s=t.OVERWATCH.Common.DataCall.getData("../json/score_trials.json");else if(i("html").hasClass("contenders"))e=t.OVERWATCH.Common.DataCall.getData("../json/team_contenders.json"),s=t.OVERWATCH.Common.DataCall.getData("../json/score_contenders.json");else e=t.OVERWATCH.Common.DataCall.getData("../json/team.json");e.done(function(e){t.commonTeamJSON=e,i("body").trigger("page.reposition")}),(i("html").hasClass("division")||i("html").hasClass("trials")||i("html").hasClass("contenders"))&&s.done(function(i){t.commonScoreJSON=i}),t.ScoreLayer=new t.OVERWATCH.Common.ScoreLayer})}(window,window.jQuery,window.document),function(t,i,e){"use strict";t.OVERWATCH=t.OVERWATCH||{},t.OVERWATCH.Common=t.OVERWATCH.Common||{},t.OVERWATCH.Admin=t.OVERWATCH.Admin||{},t.OVERWATCH.Main=t.OVERWATCH.Main||{};t.OVERWATCH.Common.util,t.OVERWATCH.page;t.OVERWATCH.Main.MainVisualSlide=t.OVERWATCH.Main.MainVisualSlide||{},t.OVERWATCH.Main.MainVisualSlide=function(t){this.opts=i.extend({},{slideOpts:{speed:600,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},effect:"fade"},slideOpts2:{loop:!1,autoplay:!1},wrap:".main .visual_area",slideWrap:".slide_container",slideContainer:".slide_wrap",slideContent:".slide",btnPlay:".btn_play",btnPause:".btn_pause"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Main.MainVisualSlide.prototype={init:function(){this.setElements(),this.initLayout(),this.bindEvents()},setElements:function(){this.slideWrap=this.wrap.find(this.opts.slideWrap),this.slideContainer=this.slideWrap.find(this.opts.slideContainer),this.slideContent=this.slideWrap.find(this.opts.slideContent),this.btnPlay=this.slideWrap.find(this.opts.btnPlay),this.btnPause=this.slideWrap.find(this.opts.btnPause)},initLayout:function(){this.btnPause.show(),this.buildSlide(),this.type=!1},bindEvents:function(){this.btnPlay.on("click",i.proxy(this.playFunc,this)),this.btnPause.on("click",i.proxy(this.pauseFunc,this)),this.wrap.on("mouseover",i.proxy(this.mouseOverFunc,this)),this.wrap.on("mouseleave",i.proxy(this.mouseLeaveFunc,this))},buildSlide:function(){1===this.slideContent.length?(i(".swiper-button-prev").hide(),i(".swiper-button-next").hide(),i(".top_control").hide(),this.slide=new Swiper(this.slideWrap,this.opts.slideOpts2)):(i(".swiper-button-prev").show(),i(".swiper-button-next").show(),i(".top_control").show(),this.slide=new Swiper(this.slideWrap,this.opts.slideOpts))},playFunc:function(t){t.preventDefault(),this.slide.autoplay.start(),this.btnPlay.hide(),this.btnPause.show(),this.type=!1},pauseFunc:function(t){t.preventDefault(),this.slide.autoplay.stop(),this.btnPlay.show(),this.btnPause.hide(),this.type=!0},mouseOverFunc:function(){this.slide.autoplay.stop()},mouseLeaveFunc:function(){this.type||this.slide.autoplay.start()},checkSlide:function(){1===this.slideContent.length?(i(".swiper-button-prev").hide(),i(".swiper-button-next").hide(),i(".top_control").hide()):(i(".swiper-button-prev").show(),i(".swiper-button-next").show(),i(".top_control").show())}},t.OVERWATCH.Main.slickSlide=t.OVERWATCH.Main.slickSlide||{},t.OVERWATCH.Main.slickSlide=function(t){this.opts={slickOpts:{dots:!0,infinite:!0,speed:300,fade:!0,cssEase:"linear",autoplay:!1,zIndex:100},slickWrap:".slide_wrap"},this.wrap=i(t),this.init()},t.OVERWATCH.Main.slickSlide.prototype={init:function(){this.setElements(),this.bindEvents(),this.buildSlick(),this.afterBindeEvents()},setElements:function(){this.slickWrap=this.wrap.find(this.opts.slickWrap)},bindEvents:function(){},buildSlick:function(){this.slickWrap.slick(this.opts.slickOpts)},afterBindeEvents:function(){}},t.OVERWATCH.Main.slickSlideCall={init:function(){this.setElements(),this.buildSlickCall()},setElements:function(){this.slideWrap=i(".recently_result")},buildSlickCall:function(){for(var i=0,e=this.slideWrap.length;i<e;i++)new t.OVERWATCH.Main.slickSlide(this.slideWrap.eq(i))}},t.OVERWATCH.Main.MainNextScheduleSlick=t.OVERWATCH.Main.MainNextScheduleSlick||{},t.OVERWATCH.Main.MainNextScheduleSlick=function(t){this.opts=i.extend({},{slickOpts:{dots:!1,infinite:!1,speed:500,fade:!1,cssEase:"linear",autoplay:!1,vertical:!0},wrap:"#wrap.main .next_schedule",slickWrap:".slide_wrap"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Main.MainNextScheduleSlick.prototype={init:function(){this.setElements(),this.buildSlick()},setElements:function(){this.slickWrap=this.wrap.find(this.opts.slickWrap),this.slide=this.wrap.find(".slide"),this.slickContChild=this.slide.find(".slide_cont")},buildSlick:function(){this.slickWrap.slick(this.opts.slickOpts)}},t.OVERWATCH.Main.MainStandingSlick=t.OVERWATCH.Main.MainStandingSlick||{},t.OVERWATCH.Main.MainStandingSlick=function(t){this.opts=i.extend({},{slickOpts:{dots:!1,infinite:!0,speed:0,fade:!0,cssEase:"linear",autoplay:!1},wrap:"#wrap.main .standing_board",slickWrap:".slide_wrap"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Main.MainStandingSlick.prototype={init:function(){this.setElements(),this.buildSlick()},setElements:function(){this.slickWrap=this.wrap.find(this.opts.slickWrap),this.slide=this.wrap.find(".slide"),this.slickContChild=this.slide.find(".slide_cont")},buildSlick:function(){this.slickWrap.slick(this.opts.slickOpts)}},t.OVERWATCH.Main.MainMedia=t.OVERWATCH.Main.MainMedia||{},t.OVERWATCH.Main.MainMedia=function(t){this.opts=i.extend({},{wrap:".main_media",mediaList:".media_lst",mediaCont:".video",layer:"#layer_media",layerVideo:".main_video",layerTitle:".layer_tit",layeraTeam1:".team1",layeraTeam2:".team2",layerScore1:".score1",layerScore2:".score2",layerScoreArea:".match_score",layerDate:".match_date",btnMore:".btn_highlight",visualSlide:".main .visual_area .slide",btnPop:" .btn_pop"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Main.MainMedia.prototype={init:function(){this.onLoadTwitchApi(),this.onLoadYoutubeApi(),this.setElements(),this.initLayout(),this.getDataFunc(),this.bindEvents()},setElements:function(){this.mediaList=this.wrap.find(this.opts.mediaList),this.layer=i(this.opts.layer),this.layerVideo=this.layer.find(this.opts.layerVideo),this.layerTitle=this.layer.find(this.opts.mainTitle),this.layeraTeam1=this.layer.find(this.opts.team1),this.layeraTeam2=this.layer.find(this.opts.team2),this.layerScore1=this.layer.find(this.opts.score1),this.layerScore2=this.layer.find(this.opts.score2),this.layerDate=this.layer.find(this.opts.date),this.btnMore=this.layer.find(this.opts.btnMore),this.visualSlide=i(this.opts.visualSlide),this.btnPop=this.visualSlide.find(this.opts.btnPop)},initLayout:function(){this.mediaList.children().remove(),this.btnMore.css("display","block"),this.resetData()},onLoadTwitchApi:function(){!function(){var t=document.createElement("script");t.src="https://player.twitch.tv/js/embed/v1.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}()},onLoadYoutubeApi:function(){!function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}()},resetData:function(){this.layer.find(i(this.opts.layerTitle)).hide(),this.layer.find(i(this.opts.layerScoreArea)).hide(),this.layer.find(i(this.opts.layerDate)).hide(),this.layer.find(i(this.opts.btnMore)).hide()},bindEvents:function(){this.wrap.on("click",this.opts.mediaCont,i.proxy(this.clickFunc,this)),this.visualSlide.on("click",this.opts.btnPop,i.proxy(this.clickVisualFunc,this))},clickVisualFunc:function(t){t.preventDefault();var e=i(t.currentTarget);this.mediaList.find("a").eq(e.data("mediaNo")).trigger("click")},clickFunc:function(t){t.preventDefault();var e=i(t.currentTarget);this.mediaNo=e.parent().index(),this.layer.css({display:"none",opacity:1,zIndex:110}),window.commonLayer.opts.viewBefore=i.proxy(function(){this.setLayer(),window.commonLayer.opts.viewBefore=null},this),window.commonLayer.layerView(this.layer),window.commonLayer.opts.closeAfter=i.proxy(function(){this.layerVideo.children().remove(),this.resetData(),window.commonLayer.opts.closeAfter=null},this)},setLayer:function(){i.each(this.data.medias,i.proxy(function(t,e){this.mediaNo===t&&"99"!==e.season_no&&(this.btnMore.css("display","block")&&this.layer.find(i(this.opts.layerTitle)).css("paddingRight","130px"),this.layer.find(i(this.opts.layerTitle)).text(e.title).show(),void 0!==e.teamA_name&&(this.layer.find(i(this.opts.layerScoreArea)).show(),this.layer.find(i(this.opts.layeraTeam1)).text(e.teamA_name),this.layer.find(i(this.opts.layeraTeam2)).text(e.teamB_name),this.layer.find(i(this.opts.layerScore1)).text(e.teamA_score),this.layer.find(i(this.opts.layerScore2)).text(e.teamB_score)),this.layer.find(i(this.opts.layerDate)).text(e.date).show(),this.btnMore.attr("href","/media?seasonNo="+e.season_no),this.btnMore.css("display","block"),"twitch"===e.video_type?this.setTwitch(e.url):"youtube"===e.video_type&&this.setYoutube(e.url)),this.mediaNo===t&&"99"===e.season_no&&(this.layer.find(i(this.opts.layerTitle)).text(e.title).show(),this.layer.find(i(this.opts.layerDate)).text(e.date).show(),this.setYoutube(e.url))},this))},setYoutube:function(t){this.youtubeCode=t.split("https://www.youtube.com/watch?v=")[1],this.layerVideo.append('<div id="player"></div>'),this.onYouTubeIframeAPIReady()},onYouTubeIframeAPIReady:function(){this.youtubePlayer=new t.YT.Player("player",{videoId:this.youtubeCode,playerVars:{autoplay:0,controls:1,showinfo:0,rel:0},events:{onReady:i.proxy(this.onPlayerReady,this),onStateChange:i.proxy(this.onPlayerStateChange,this)},fs:1})},onPlayerReady:function(t){this.youtubePlayer.playVideo()},onPlayerStateChange:function(t){t.data!==YT.PlayerState.PLAYING||this.done||(this.done=!this.done,this.youtubePlayer.playVideo()),t.data===YT.PlayerState.ENDED&&this.youtubePlayer.pauseVideo()},setTwitch:function(t){this.twitchCode=t.split("https://www.twitch.tv/videos/")[1];var i={width:"100%",height:"100%",video:this.twitchCode,playsinline:!0,time:0};this.layerVideo.append('<div id="player"></div>'),this.media=new Twitch.Player("player",i)},getDataFunc:function(){var i=this;this.commonMediaJSON=t.OVERWATCH.Common.DataCall.getData("../json/media.json"),this.commonMediaJSON.done(function(t){i.setDataFunc(t)})},setDataFunc:function(t){if(void 0!==t){this.data=t;var e=this,s="";i.each(this.data.medias,function(t,n){"video"===n.media_type&&("10"===n.season_no||"20"===n.season_no||n.season_no,s='<li class="media_item"><a href="#" class="video btn_play" data-video-type="'+n.video_type+'" data-video-url="'+n.url+'" data-season-no="'+n.season_no+'"><span class="thumb"><img src="'+n.thumbnail+'" alt=""></span>',s+='<div class="media_info"><span class="tit">'+n.title+"</span>",s+='<ul class="list"><li class="sort">'+n.sort+'</li><li class="time">'+n.date+"</li></ul></div></a></li>"),"news"===n.media_type&&(s='<li class="media_item"><a href="'+n.url+"?seasonNo="+n.season_no+'" class="news"><span class="thumb"><img src="'+n.thumbnail+'" alt=""></span>',s+='<div class="media_info"><span class="tit">'+n.title+"</span>",s+='<ul class="list"><li class="sort">'+n.sort+'</li><li class="time">'+n.date+"</li></ul></div></a></li>"),e.mediaList.append(s),10===parseInt(n.season_no)?(e.mediaList.find(i(".video, .news").eq(t)).addClass("contenders"),e.mediaList.find(i(".video, .news").eq(t)).data("seasonNo",10)):20===parseInt(n.season_no)?(e.mediaList.find(i(".video, .news").eq(t)).addClass("trials"),e.mediaList.find(i(".video, .news").eq(t)).data("seasonNo",20)):30===parseInt(n.season_no)&&(e.mediaList.find(i(".video, .news").eq(t)).addClass("division"),e.mediaList.find(i(".video, .news").eq(t)).data("seasonNo",30))})}},reInit:function(){this.wrap.length&&this.setDataFunc()}},i(function(){t.OVERWATCH.Main.slickSlideCall.init(),t.MainVisualSlide=new t.OVERWATCH.Main.MainVisualSlide,t.MainNextScheduleSlick=new t.OVERWATCH.Main.MainNextScheduleSlick,t.MainStandingSlick=new t.OVERWATCH.Main.MainStandingSlick,t.MainMedia=new t.OVERWATCH.Main.MainMedia})}(window,window.jQuery,window.document),function(t,i,e){"use strict";t.OVERWATCH=t.OVERWATCH||{},t.OVERWATCH.Common=t.OVERWATCH.Common||{},t.OVERWATCH.Admin=t.OVERWATCH.Admin||{},t.OVERWATCH.Media=t.OVERWATCH.Media||{};t.OVERWATCH.Common.util;t.OVERWATCH.Media.MediaView=function(t){this.opts=i.extend({},{wrap:".media_wrap",mediaList:".media_lst",clickObj:".btn_play",layer:"#layer_media",layerVideo:".main_video",layerTitle:".layer_tit",layerTeam1:".team1",layerTeam2:".team2",layerScore1:".score1",layerScore2:".score2",layerScoreArea:".match_score",layerDate:".match_date"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Media.MediaView.prototype={init:function(){this.onLoadTwitchApi(),this.onLoadYoutubeApi(),this.setElements(),this.initLayout(),this.getDataFunc(),this.bindEvents()},setElements:function(){this.mediaList=this.wrap.find(this.opts.mediaList),this.layer=i(this.opts.layer),this.layerVideo=this.layer.find(this.opts.layerVideo),this.layerTitle=this.layer.find(this.opts.mainTitle),this.layerTeam1=this.layer.find(this.opts.team1),this.layerTeam2=this.layer.find(this.opts.team2),this.layerScore1=this.layer.find(this.opts.score1),this.layerScore2=this.layer.find(this.opts.score2),this.layerDate=this.layer.find(this.opts.date)},initLayout:function(){this.mediaList.children().remove(),this.layer.css({display:"block",opacity:0,zIndex:-1}),this.resetData()},bindEvents:function(){i("body").on("click",this.opts.clickObj,i.proxy(this.clickFunc,this))},onLoadTwitchApi:function(){!function(){var t=document.createElement("script");t.src="https://player.twitch.tv/js/embed/v1.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}()},onLoadYoutubeApi:function(){!function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}()},resetData:function(){this.layer.find(i(this.opts.layerTitle)).hide(),this.layer.find(i(this.opts.layerScoreArea)).hide(),this.layer.find(i(this.opts.layerDate)).hide()},clickFunc:function(t){t.preventDefault();var e=i(t.currentTarget);this.videoNum=parseInt(e.data("videoNo")),this.layer.css({display:"none",opacity:1,zIndex:110}),window.commonLayer.opts.viewBefore=i.proxy(function(){this.setLayer(),window.commonLayer.opts.viewBefore=null},this),window.commonLayer.layerView(this.layer),window.commonLayer.opts.closeAfter=i.proxy(function(){this.layerVideo.children().remove(),this.resetData(),window.commonLayer.opts.closeAfter=null},this)},getDataFunc:function(){var e=this;i("html").hasClass("division")?this.commonMediaJSON=t.OVERWATCH.Common.DataCall.getData("../json/media_division.json"):i("html").hasClass("trials")?this.commonMediaJSON=t.OVERWATCH.Common.DataCall.getData("../json/media_trials.json"):i("html").hasClass("contenders")&&(this.commonMediaJSON=t.OVERWATCH.Common.DataCall.getData("../json/media_contenders.json")),this.commonMediaJSON.done(function(t){e.setMediaPage(t)})},setMediaPage:function(t){if(void 0!==t){this.data=t;for(var e="",s=0,n=this.data.medias.length;s<n;s++)i.each(this.data.medias,function(t,i){parseInt(i.no)===s+1&&(e='<li class="media_item"><a href="#" class="video btn_play" data-video-type="'+i.video_type+'" data-season-no="'+i.season_no+'" data-video-no="'+i.no+'"><span class="thumb"><img src="'+i.thumbnail+'" alt=""></span>',e+='<div class="media_info"><span class="tit">'+i.title+"</span>",e+='<ul class="list"><li class="sort">'+i.sort+'</li><li class="time">'+i.date+"</li></ul></div></a></li>")}),this.mediaList.append(e)}},setLayer:function(){i.each(this.data.medias,i.proxy(function(t,e){this.videoNum===parseInt(e.no)&&(this.layer.find(i(this.opts.layerTitle)).text(e.title).show(),void 0!==e.teamA_name&&(this.layer.find(i(this.opts.layerScoreArea)).show(),this.layer.find(i(this.opts.layerTeam1)).text(e.teamA_name),this.layer.find(i(this.opts.layerTeam2)).text(e.teamB_name),this.layer.find(i(this.opts.layerScore1)).text(e.teamA_score),this.layer.find(i(this.opts.layerScore2)).text(e.teamB_score)),this.layer.find(i(this.opts.layerDate)).text(e.date).show(),"twitch"===e.video_type?this.setTwitch(e.video_url):"youtube"===e.video_type&&this.setYoutube(e.video_url))},this))},setYoutube:function(t){this.youtubeCode=t.split("https://www.youtube.com/watch?v=")[1],this.layerVideo.append('<div id="player"></div>'),this.onYouTubeIframeAPIReady()},onYouTubeIframeAPIReady:function(){this.youtubePlayer=new t.YT.Player("player",{videoId:this.youtubeCode,playerVars:{autoplay:0,controls:1,showinfo:0,rel:0},events:{onReady:i.proxy(this.onPlayerReady,this),onStateChange:i.proxy(this.onPlayerStateChange,this)},fs:1})},onPlayerReady:function(t){this.youtubePlayer.playVideo()},onPlayerStateChange:function(t){t.data!==YT.PlayerState.PLAYING||this.done||(this.done=!this.done,this.youtubePlayer.playVideo()),t.data===YT.PlayerState.ENDED&&this.youtubePlayer.pauseVideo()},setTwitch:function(t){this.twitchCode=t.split("https://www.twitch.tv/videos/")[1];var i={width:"100%",height:"100%",video:this.twitchCode,playsinline:!0,time:0};this.layerVideo.append('<div id="player"></div>'),this.media=new Twitch.Player("player",i)},reInit:function(){this.wrap.length&&this.setDataFunc()}},t.OVERWATCH.Media.MediaJson=function(t){this.opts=i.extend({},{wrap:".media_lst"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Media.MediaJson.prototype={init:function(){this.initLayout()},initLayout:function(){var t=i.ajax({dataType:"json",url:"../json/media_contenders.json"});t.then(function(t){console.log(t)},function(t){console.error(t)}),t.always(function(){console.log("complete")})}},i(function(){t.MediaJson=new t.OVERWATCH.Media.MediaJson})}(window,window.jQuery,window.document),function(t,i,e){"use strict";t.OVERWATCH=t.OVERWATCH||{},t.OVERWATCH.Common=t.OVERWATCH.Common||{},t.OVERWATCH.Admin=t.OVERWATCH.Admin||{},t.OVERWATCH.Schedule=t.OVERWATCH.Schedule||{};t.OVERWATCH.Common.util,t.OVERWATCH.page;t.OVERWATCH.Schedule.clickSchedule=t.OVERWATCH.Schedule.clickSchedule||{},t.OVERWATCH.Schedule.clickSchedule=function(t){this.opts=i.extend({},{wrap:".schedule_wrap",scheduleArea:".schedule_area",scheduleList:".list_schedule",activeClass:"on",toggleText:".toggle_txt",initIndex:0},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Schedule.clickSchedule.prototype={init:function(){this.initLayout(),this.setElements(),this.bindEvents(),this.getDate(),this.setTodaySchedule()},initLayout:function(){this.past=!1,this.current=!1,this.future=!1},setElements:function(){this.scheduleList=this.wrap.find(this.opts.scheduleList),this.scheduleArea=this.wrap.find(this.opts.scheduleArea),this.scheduleChild=this.scheduleList.children(),this.toggleText=this.scheduleList.find(this.opts.toggleText)},bindEvents:function(){this.scheduleChild.on("click",".summary",i.proxy(this.clickFunc,this))},clickFunc:function(t){t.preventDefault();var e=i(t.delegateTarget);i(t.currentTarget);this.prevIndex=this.currentIndex,this.currentIndex=e.index(),e.hasClass(this.opts.activeClass)?(this.scheduleChild.eq(this.prevIndex).removeClass(this.opts.activeClass),this.scheduleChild.eq(this.currentIndex).removeClass(this.opts.activeClass)):(this.scheduleChild.eq(this.prevIndex).removeClass(this.opts.activeClass),this.scheduleChild.eq(this.currentIndex).addClass(this.opts.activeClass))},setTodaySchedule:function(){var t=[];this.scheduleChild.each(i.proxy(function(i){t.push(String(this.scheduleChild.eq(i).data("week").replace(/-/g,"")))},this));for(var e=0,s=t.length;e<s;e++)if(t[s-1]<this.thisWeek&&(this.scheduleChild.eq(s-1).addClass(this.opts.activeClass),this.currentIndex=s-1),t[s-1]===this.thisWeek&&(this.scheduleChild.eq(s-1).addClass(this.opts.activeClass),this.currentIndex=s-1),t[s-1]>this.thisWeek){if(t[0]===this.thisWeek)return this.scheduleChild.eq(0).addClass(this.opts.activeClass),void(this.currentIndex=0);if(t[0]<this.thisWeek){if(t[e]===this.thisWeek)return this.scheduleChild.eq(e).addClass(this.opts.activeClass),void(this.currentIndex=e);if(t[e]>this.thisWeek)return this.scheduleChild.eq(e).addClass(this.opts.activeClass),void(this.currentIndex=e)}t[0]>this.thisWeek&&(this.scheduleChild.eq(0).addClass(this.opts.activeClass),this.currentIndex=0)}this.scheduleChildHeight=this.scheduleChild.outerHeight();this.prevLength,this.scheduleChildHeight,i(".top_content").outerHeight(),i("#sub_nav").outerHeight(!0)},getDate:function(){new Date;for(var t=moment().year(),i=moment().month(),e=this.getWeek(t,i),s=moment().format("YYYYMMDD"),n=0,o=e.length;n<o;n++)s>=e[n].weekStart&&s<=e[n].weekEnd&&(this.thisWeek=t.toString()+(i+1).toString()+(n+1))},getWeek:function(t,i){for(var e=moment().year(t).month(i).date(1),s=moment().year(t).month(i).endOf("month"),n=moment().year(t).month(i).endOf("month").date(),o=Math.ceil((n+e.day())/7),a=[],h=moment().year(t).month(i).date(1),l=0;l<o;){var r=moment(h);r=r.endOf("week").date()<=n&&r.month()==i?r.endOf("week").format("YYYYMMDD"):(r=moment(s)).format("YYYYMMDD"),a.push({weekStart:h.format("YYYYMMDD"),weekEnd:r}),h=h.weekday(7),l++}return a}},t.OVERWATCH.Schedule.LayerControl=t.OVERWATCH.Schedule.LayerControl||{},t.OVERWATCH.Schedule.LayerControl=function(t){this.opts=i.extend({},{wrap:".schedule_wrap",btnScore:".btn_score",btnPlay:".btn_play"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Schedule.LayerControl.prototype={init:function(){this.setElements(),this.initLayout(),this.bindEvents()},initLayout:function(){},setElements:function(){this.btnScore=this.wrap.find(this.opts.btnScore),this.btnPlay=this.wrap.find(this.opts.btnPlay)},bindEvents:function(){this.wrap.on("click",this.opts.btnScore,i.proxy(this.clickScoreFunc,this))},clickScoreFunc:function(t){t.preventDefault(),window.ScoreLayer.clickFunc(t)},clickMediaFunc:function(t){t.preventDefault(),window.MediaLayer.init(),window.MediaLayer.clickFunc(t)}},t.OVERWATCH.Schedule.Filter=t.OVERWATCH.Schedule.Filter||{},t.OVERWATCH.Schedule.Filter=function(t){this.opts=i.extend({},{wrap:".filter_area",btnObj:".btn_filter",filterItemFull:".item_full",btnView:".btn_view",activeClass:"on"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Schedule.Filter.prototype={init:function(){this.setElements(),this.initLayout(),this.bindEvents()},initLayout:function(){this.wrap.removeClass(this.opts.activeClass),this.filterItemFull.removeClass(this.opts.activeClass)},setElements:function(){this.btnObj=this.wrap.find(this.opts.btnObj),this.filterItemFull=this.wrap.find(this.opts.filterItemFull),this.btnView=this.wrap.find(this.opts.btnView)},bindEvents:function(){this.btnObj.on("click",i.proxy(this.clickFunc,this)),this.filterItemFull.on("click",".btn_view",i.proxy(this.clickAllTeamFunc,this))},clickFunc:function(t){t.preventDefault(),this.wrap.hasClass(this.opts.activeClass)?this.wrap.removeClass(this.opts.activeClass):this.wrap.addClass(this.opts.activeClass)},clickAllTeamFunc:function(t){t.preventDefault();var e=i(t.delegateTarget);i(t.currentTarget);e.hasClass(this.opts.activeClass)?e.removeClass(this.opts.activeClass):e.addClass(this.opts.activeClass)}},i(window).on("load",function(){t.clickSchedule=new t.OVERWATCH.Schedule.clickSchedule,t.LayerControl=new t.OVERWATCH.Schedule.LayerControl,t.Filter=new t.OVERWATCH.Schedule.Filter})}(window,window.jQuery,window.document),function(t,i,e){"use strict";t.OVERWATCH=t.OVERWATCH||{},t.OVERWATCH.Common=t.OVERWATCH.Common||{},t.OVERWATCH.Standing=t.OVERWATCH.Standing||{};t.OVERWATCH.Common.util;t.OVERWATCH.Standing.StandingScoreView=function(t){this.opts=i.extend({},{wrap:".standing_wrap",listWrap:".standing_area",list:".list_standing",details:".detail_item",btnTeam:".team_logo",btnDetail:".btn_view",lineObj:".line",activeClass:"on",initialRank:"4",speed:200,btnLive:"a.btn_live",layerMedia:"#layer_media"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Standing.StandingScoreView.prototype={init:function(){this.setElements(),this.setOpts(),this.initLayout(),this.bindEvents(),this.setLineFunc()},setElements:function(){this.listWrap=this.wrap.find(this.opts.listWrap),this.list=this.listWrap.find(this.opts.list),this.details=this.listWrap.find(this.opts.details),this.lineObj=this.wrap.find(this.opts.lineObj),this.listChild=this.list.children(),this.btnTeam=this.listChild.find(this.opts.btnTeam),this.btnLive=this.listChild.find(this.opts.btnLive),this.layerMedia=i(this.opts.layerMedia)},initLayout:function(){this.listChild.removeClass(this.opts.activeClass),i.each(this.details,i.proxy(function(t,e){i(e).data("matchNo")&&i(e).css("cursor","pointer")}))},bindEvents:function(){this.listChild.on("click",this.opts.btnDetail,i.proxy(this.clickFunc,this)),i("body").on("click",this.opts.btnLive,i.proxy(this.clickLiveFunc,this))},setOpts:function(){this.listWrapHeight=this.listWrap.outerHeight(),this.listHeight=this.list.outerHeight(),this.listChildHeight=this.listChild.outerHeight(),this.initialRank=Number(this.opts.initialRank)},clickFunc:function(t){t.preventDefault();var e=i(t.delegateTarget);i(t.currentTarget);e.hasClass(this.opts.activeClass)?e.removeClass(this.opts.activeClass):(this.listChild.removeClass(this.opts.activeClass),e.addClass(this.opts.activeClass)),this.toggleLineFunc()},clickLiveFunc:function(t){t.preventDefault(),t.stopPropagation();var e=i(t.currentTarget).attr("href");void 0!==e&&window.open(e,"_blank")},toggleLineFunc:function(){0!==this.initialRank&&(this.listChild.hasClass(this.opts.activeClass)?this.lineObj.stop().fadeOut("fast"):this.lineObj.stop().fadeIn("fast"))},setLineFunc:function(){if(0===this.initialRank)this.lineObj.hide();else{var t=this.listChildHeight*this.initialRank+(this.listWrapHeight-this.listHeight)-3;this.lineObj.css("top",t),this.lineObj.stop().fadeIn()}},layerViewFunc:function(e){e.preventDefault(),e.preventDefault();i(e.currentTarget);this.layerMedia.css({display:"block",opacity:1,zIndex:110}),t.MediaLayer.clickFunc(e)}},t.OVERWATCH.Standing.StandingLiveView=function(t){this.opts=i.extend({},{wrap:".standing_wrap",btnObj:".btn_live"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Standing.StandingLiveView.prototype={init:function(){this.setElements()},setElements:function(){}},i(function(){i("html").hasClass("contenders")?i("#wrap").hasClass("standing")&&(t.StandingScoreView=new t.OVERWATCH.Standing.StandingScoreView({initialRank:0})):t.StandingScoreView=new t.OVERWATCH.Standing.StandingScoreView})}(window,window.jQuery,window.document),function(t,i,e){"use strict";t.OVERWATCH=t.OVERWATCH||{},t.OVERWATCH.Team=t.OVERWATCH.Team||{};t.OVERWATCH.Common.util,t.OVERWATCH.page;t.OVERWATCH.Team.TeamList=function(t){this.opts=i.extend({},{wrap:".team_wrap",defaultTeamImg:"../images/team/@team_logo_big_default.png"},t||{}),(this.wrap=i(this.opts.wrap)).length&&this.init()},t.OVERWATCH.Team.TeamList.prototype={init:function(){this.setElements(),this.initLayout()},setElements:function(){},initLayout:function(){this.url="../json/team_"+this.wrap.data("league")+".json",this.bindData()},bindData:function(){var t=i("#teamList-template").html(),e=Handlebars.compile(t),s=this;i.ajax({dataType:"json",url:this.url,success:function(t){Handlebars.registerHelper("teamName",function(t,i){return""!==t?i.fn(this):i.inverse(this)});var i=e(t);s.wrap.append(i)},error:function(t){console.error(t)}})}},i(function(){t.TeamList=new t.OVERWATCH.Team.TeamList})}(window,window.jQuery,window.document);